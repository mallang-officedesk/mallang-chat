<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>MALLANG Beauty Chat</title>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
html { height: 100%; overflow: hidden; touch-action: pan-y; }
body { 
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: #FAF9F6;
  overflow: hidden;
  width: 100%;
  height: 100%;
  height: 100dvh;
}
.screen { display: none; height: 100%; width: 100%; overflow-x: hidden; flex-direction: column; }
@supports (height: 100dvh) { .screen { height: 100dvh; } }
.screen.active { display: flex; }

/* === Î°úÎî© === */
.loading-screen { align-items: center; justify-content: center; }
.loading-spinner { width: 30px; height: 30px; border: 3px solid #E5E5E5; border-top-color: #C9A063; border-radius: 50%; animation: spin 0.8s linear infinite; margin-top: 1rem; }
@keyframes spin { to { transform: rotate(360deg); } }

/* === Í≥µÌÜµ === */
.logo { font-size: 2.5rem; font-weight: 300; letter-spacing: 0.3em; margin-bottom: 1rem; }
.subtitle { color: #666; margin-bottom: 3rem; }
.gold-btn { padding: 0.8rem 2rem; background: #C9A063; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; width: 100%; }
.gold-btn:hover { background: #B8914F; }
.gold-btn:disabled { background: #ccc; cursor: not-allowed; }

/* === Ïñ∏Ïñ¥ ÏÑ†ÌÉù === */
.lang-screen { align-items: center; justify-content: center; padding: 2rem; }
.lang-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; max-width: 400px; width: 100%; }
.lang-btn {
  padding: 1.5rem;
  border: 2px solid #E5E5E5;
  background: white;
  border-radius: 12px;
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.3s;
}
.lang-btn:hover { border-color: #C9A063; transform: translateY(-2px); }

/* === Î°úÍ∑∏Ïù∏/ÌöåÏõêÍ∞ÄÏûÖ === */
.auth-screen { align-items: center; justify-content: center; padding: 2rem; }
.auth-form { width: 100%; max-width: 380px; }
.auth-form h2 { text-align: center; margin-bottom: 1.5rem; }
.form-group { margin-bottom: 1rem; }
.form-group label { display: block; margin-bottom: 0.3rem; font-size: 0.9rem; color: #555; }
.form-group input, .form-group select { width: 100%; padding: 0.7rem; border: 1px solid #DDD; border-radius: 8px; font-size: 1rem; }
.auth-btn { width: 100%; padding: 0.8rem; background: #C9A063; color: white; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; margin-top: 0.5rem; }
.auth-btn:hover { background: #B8914F; }
.auth-btn:disabled { background: #ccc; }
.auth-error { background: #fee; color: #c33; padding: 0.7rem; border-radius: 8px; display: none; margin-bottom: 1rem; font-size: 0.9rem; }
.auth-switch { text-align: center; margin-top: 1rem; font-size: 0.9rem; color: #666; }
.auth-switch a { color: #C9A063; cursor: pointer; text-decoration: underline; }
.role-toggle { display: flex; border: 2px solid #E5E5E5; border-radius: 8px; overflow: hidden; margin-bottom: 1.5rem; }
.role-toggle button { flex: 1; padding: 0.6rem; border: none; background: white; cursor: pointer; font-size: 0.9rem; transition: all 0.2s; }
.role-toggle button.active { background: #C9A063; color: white; }
.designer-fields { display: none; }
.designer-fields.show { display: block; }

/* === Ï±ÑÌåÖ Î™©Î°ù === */
.chatlist-header {
  background: white;
  padding: 1rem 1.2rem;
  border-bottom: 1px solid #E5E5E5;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.chatlist-header h2 { font-size: 1.2rem; }
.chatlist-header-btns { display: flex; gap: 0.5rem; }
.chatlist-header-btns button {
  padding: 0.4rem 0.8rem;
  border: 1px solid #DDD;
  background: white;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.85rem;
}
.chatlist-items { flex: 1; overflow-y: auto; }
.chatlist-item {
  padding: 1rem 1.2rem;
  border-bottom: 1px solid #F0F0F0;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  transition: background 0.2s;
}
.chatlist-item:hover { background: #F9F5ED; }
.chatlist-avatar {
  width: 48px; height: 48px;
  border-radius: 50%;
  background: #C9A063;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  font-weight: bold;
  flex-shrink: 0;
}
.chatlist-avatar.designer { background: #7C6BC4; }
.chatlist-avatar.admin { background: #C9A063; }
.chatlist-info { flex: 1; min-width: 0; }
.chatlist-name { font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.4rem; }
.chatlist-preview { color: #888; font-size: 0.85rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top: 0.2rem; }
.chatlist-meta { text-align: right; flex-shrink: 0; }
.chatlist-time { font-size: 0.75rem; color: #999; }
.chatlist-unread { background: #C9A063; color: white; font-size: 0.7rem; padding: 2px 7px; border-radius: 10px; margin-top: 0.3rem; display: inline-block; }
.no-chats { padding: 3rem; text-align: center; color: #999; }

/* === ÏπúÍµ¨ Ï∂îÍ∞Ä Î™®Îã¨ === */
.modal-overlay {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.4);
  z-index: 2000;
  align-items: center;
  justify-content: center;
}
.modal-overlay.active { display: flex; }
.modal-box {
  background: white;
  border-radius: 16px;
  padding: 2rem;
  width: 90%;
  max-width: 360px;
}
.modal-box h3 { margin-bottom: 1rem; text-align: center; }
.modal-box input { width: 100%; padding: 0.7rem; border: 1px solid #DDD; border-radius: 8px; font-size: 1rem; margin-bottom: 0.8rem; }
.modal-result { margin-top: 0.5rem; padding: 0.8rem; border-radius: 8px; display: none; }
.modal-result.found { display: block; background: #F9F5ED; }
.modal-result.not-found { display: block; background: #FEE; color: #c33; text-align: center; }
.modal-result-user { display: flex; align-items: center; gap: 0.8rem; }
.modal-close { background: none; border: none; font-size: 1.5rem; cursor: pointer; position: absolute; right: 1rem; top: 0.5rem; }

/* === Ï±ÑÌåÖÎ∞© === */
.chatroom-header {
  background: white;
  padding: 0.8rem 1rem;
  border-bottom: 1px solid #E5E5E5;
  display: flex;
  align-items: center;
  gap: 0.8rem;
}
.back-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; padding: 0.2rem; }
.chatroom-header-info { flex: 1; }
.chatroom-header-info h3 { font-size: 1rem; }
.chatroom-header-info p { font-size: 0.8rem; color: #888; }
.lang-badge { background: #F0F0F0; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem; }
.logout-btn { background: none; border: 1px solid #DDD; padding: 0.3rem 0.8rem; border-radius: 6px; font-size: 0.8rem; cursor: pointer; }
.messages {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  background: #FAF9F6;
}
.message { display: flex; flex-direction: column; }
.from-me { align-items: flex-end; }
.from-them { align-items: flex-start; }
.msg-bubble {
  max-width: 90%;
  padding: 0.8rem 1rem;
  border-radius: 12px;
  word-wrap: break-word;
  position: relative;
  letter-spacing: 0.03em;
  line-height: 1.7;
}
.from-me .msg-bubble { background: #C9A063; color: white; border-bottom-right-radius: 4px; }
.from-them .msg-bubble { background: white; border: 1px solid #E5E5E5; border-bottom-left-radius: 4px; }
.msg-time { font-size: 0.7rem; color: #999; margin-top: 0.2rem; }
.msg-delete { position: absolute; top: -8px; right: -8px; background: #ff4444; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; font-size: 0.7rem; cursor: pointer; display: none; line-height: 20px; text-align: center; }
.msg-bubble:hover .msg-delete { display: block; }
.msg-highlight { background: #ff6b6b; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
.msg-img { max-width: 240px; border-radius: 8px; margin: 4px 0; display: block; cursor: pointer; }
.msg-link { color: inherit; text-decoration: underline; word-break: break-all; }
.msg-link-btn {
  display: inline-block;
  padding: 8px 16px;
  background: #C9A063;
  color: white !important;
  border-radius: 20px;
  text-decoration: none;
  margin: 4px 0;
  font-size: 0.85rem;
}
.msg-original-toggle {
  font-size: 0.7rem; color: #999; cursor: pointer; margin-top: 0.4rem; text-align: right;
}
.msg-original-toggle:hover { color: #666; text-decoration: underline; }
.msg-original {
  margin-top: 0.3rem; padding-top: 0.3rem; border-top: 1px dashed #DDD;
  font-size: 0.85rem; color: #888;
}
.scroll-bottom-btn {
  position: fixed; bottom: 80px; right: 20px; z-index: 50;
  width: 40px; height: 40px; border-radius: 50%;
  background: #C9A063; color: white; border: none;
  font-size: 1.2rem; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  display: flex; align-items: center; justify-content: center;
}

/* === ÏûÖÎ†• ÏòÅÏó≠ === */
.input-area {
  background: white;
  padding: 0.8rem;
  padding-bottom: max(1rem, calc(0.8rem + env(safe-area-inset-bottom, 10px)));
  border-top: 1px solid #E5E5E5;
  display: flex;
  gap: 0.5rem;
  align-items: flex-end;
}
.msg-input {
  flex: 1;
  padding: 0.6rem 0.8rem;
  border: 1px solid #DDD;
  border-radius: 20px;
  font-size: 0.95rem;
  resize: none;
  overflow-y: hidden;
  max-height: 120px;
  font-family: inherit;
}
.img-upload-btn {
  width: 36px; height: 36px;
  border-radius: 50%;
  border: 1px solid #DDD;
  background: white;
  cursor: pointer;
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.send-btn {
  padding: 0.5rem 1rem;
  background: #C9A063;
  color: white;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.9rem;
  flex-shrink: 0;
}
.img-preview { position: relative; margin-bottom: 0.5rem; }
.img-preview img { max-height: 100px; border-radius: 8px; }
.img-preview-remove { position: absolute; top: -6px; right: -6px; background: #ff4444; color: white; border: none; border-radius: 50%; width: 22px; height: 22px; cursor: pointer; font-size: 0.8rem; }

/* === Î©îÎâ¥ ÏÇ¨Ïù¥ÎìúÎ∞î === */
.menu-sidebar {
  display: none;
  position: fixed;
  top: 0; left: 0; bottom: 0;
  width: 280px;
  background: white;
  border-right: 1px solid #E5E5E5;
  flex-direction: column;
  overflow-y: auto;
  z-index: 1000;
  box-shadow: 4px 0 20px rgba(0,0,0,0.15);
}
.menu-sidebar.mobile-open { display: flex; }
.menu-tabs { display: flex; flex-direction: column; }
.menu-tab {
  padding: 1rem 1.2rem;
  cursor: pointer;
  font-size: 0.95rem;
  border-bottom: 1px solid #F0F0F0;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.menu-tab:hover, .menu-tab.active { background: #F9F5ED; color: #C9A063; }
.menu-content { padding: 0.8rem; font-size: 0.85rem; overflow-y: auto; flex: 1; }
.menu-content h4 { margin: 0.8rem 0 0.3rem; color: #C9A063; font-size: 0.9rem; }
.price-row { display: flex; justify-content: space-between; padding: 0.3rem 0; border-bottom: 1px solid #F8F8F8; font-size: 0.85rem; }
.divider { height: 1px; background: #E5E5E5; margin: 0.8rem 0; }
.menu-content .note { font-size: 0.8rem; color: #888; margin: 0.3rem 0; }
.menu-content .link { color: #C9A063; text-decoration: underline; cursor: pointer; }

/* === Î©îÎâ¥ Ïò§Î≤ÑÎ†àÏù¥ (Î™®Î∞îÏùº) === */
.menu-overlay {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100%;
  background: rgba(0,0,0,0.3);
  z-index: 999;
}
.menu-overlay.active { display: block; }

/* === Ïä§ÌÉúÌîÑ ÌôîÎ©¥ === */
.staff-screen { display: none; flex-direction: row; height: 100%; }
.customer-list {
  width: 300px;
  border-right: 1px solid #E5E5E5;
  display: flex;
  flex-direction: column;
  background: white;
}
.list-header { padding: 1rem; border-bottom: 1px solid #E5E5E5; }
.list-header h2 { margin-bottom: 0.5rem; }
.search-box { width: 100%; padding: 0.5rem; border: 1px solid #DDD; border-radius: 6px; }
.customer-items { overflow-y: auto; flex: 1; }
.customer-item {
  padding: 0.8rem 1rem;
  border-bottom: 1px solid #F0F0F0;
  cursor: pointer;
  transition: background 0.2s;
}
.customer-item:hover, .customer-item.active { background: #F9F5ED; }
.customer-name { font-weight: bold; font-size: 0.95rem; }
.customer-preview { color: #888; font-size: 0.85rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.customer-time { font-size: 0.75rem; color: #999; }
.unread { background: #C9A063; color: white; font-size: 0.7rem; padding: 2px 7px; border-radius: 10px; margin-left: 0.5rem; }
.quick-replies { padding: 0.5rem; background: #F9F9F9; border-top: 1px solid #E5E5E5; display: flex; flex-wrap: wrap; gap: 0.3rem; }
.quick-reply-toggle { background: none; border: 1px solid #C9A063; color: #C9A063; padding: 0.3rem 0.6rem; border-radius: 20px; cursor: pointer; font-size: 0.8rem; }
.quick-reply-btn { background: #FFF; border: 1px solid #DDD; padding: 0.3rem 0.6rem; border-radius: 20px; cursor: pointer; font-size: 0.8rem; display: none; }

/* === Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú ÏßÑÌñâ === */
.upload-progress {
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0,0,0,0.8);
  color: white;
  padding: 1.5rem 2rem;
  border-radius: 12px;
  z-index: 3000;
  display: none;
  text-align: center;
}
.upload-progress.active { display: block; }

/* === Î™®Î∞îÏùº === */
/* === Î™®Î∞îÏùº === */
.mobile-menu-btn { padding: 0.3rem 0.7rem; border: 1px solid #DDD; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; display: inline-flex; align-items: center; gap: 0.3rem; }

@media (max-width: 600px) {
  .input-area { padding-bottom: 2.5rem; }
  .staff-screen { grid-template-columns: 1fr; }
  .customer-list { display: none; }
  .menu-sidebar {
    width: 85vw;
    height: 100dvh;
    padding-bottom: calc(2rem + env(safe-area-inset-bottom, 0px));
  }
  .menu-overlay { height: 100dvh; }
}
@media (max-width: 768px) {
  .staff-screen { grid-template-columns: 1fr; }
  .customer-list { display: none; }
}
</style>
</head>
<body>

<!-- Î°úÎî© -->
<div class="screen active loading-screen" id="loadingScreen">
  <div class="logo">MALLANG</div>
  <div class="loading-spinner"></div>
</div>

<!-- Ïñ∏Ïñ¥ ÏÑ†ÌÉù -->
<div class="screen lang-screen" id="langScreen">
  <div class="logo">MALLANG</div>
  <div class="subtitle">Premium Beauty & Photo Studio</div>
  <div class="lang-grid">
    <button class="lang-btn" onclick="selectLang('ko')">üá∞üá∑ ÌïúÍµ≠Ïñ¥</button>
    <button class="lang-btn" onclick="selectLang('en')">üåê English</button>
    <button class="lang-btn" onclick="selectLang('zh')">üá®üá≥ ‰∏≠Êñá</button>
    <button class="lang-btn" onclick="selectLang('ja')">üáØüáµ Êó•Êú¨Ë™û</button>
    <button class="lang-btn" onclick="selectLang('th')">üáπüá≠ ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</button>
    <button class="lang-btn" onclick="selectLang('vi')">üáªüá≥ Ti·∫øng Vi·ªát</button>
  </div>
</div>

<!-- Î°úÍ∑∏Ïù∏ -->
<div class="screen auth-screen" id="loginScreen">
  <div class="logo" style="margin-bottom: 2rem;">MALLANG</div>
  <div class="auth-form">
    <h2>Î°úÍ∑∏Ïù∏ / Login</h2>
    <div class="auth-error" id="loginError"></div>
    <div class="form-group">
      <label>Ïù¥Î©îÏùº / Email</label>
      <input type="email" id="loginEmail" placeholder="email@example.com">
    </div>
    <div class="form-group">
      <label>ÎπÑÎ∞ÄÎ≤àÌò∏ / Password</label>
      <input type="password" id="loginPw" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    </div>
    <button class="auth-btn" onclick="doLogin()">Î°úÍ∑∏Ïù∏ / Login</button>
    <div class="auth-switch">
      Í≥ÑÏ†ïÏù¥ ÏóÜÏúºÏã†Í∞ÄÏöî? <a onclick="showScreen('signupScreen')">ÌöåÏõêÍ∞ÄÏûÖ / Sign Up</a>
    </div>
  </div>
</div>

<!-- ÌöåÏõêÍ∞ÄÏûÖ -->
<div class="screen auth-screen" id="signupScreen">
  <div class="logo" style="margin-bottom: 2rem;">MALLANG</div>
  <div class="auth-form">
    <h2>ÌöåÏõêÍ∞ÄÏûÖ / Sign Up</h2>
    <div class="auth-error" id="signupError"></div>
    <div class="role-toggle" id="roleToggle">
      <button class="active" onclick="setRole('customer')">üë§ Í≥†Í∞ù / Customer</button>
      <button onclick="setRole('designer')">‚úÇÔ∏è ÎîîÏûêÏù¥ÎÑà / Designer</button>
    </div>
    <div class="form-group">
      <label>Ïù¥Î¶Ñ / Name *</label>
      <input type="text" id="signupName" placeholder="Hong Gildong">
    </div>
    <div class="designer-fields" id="designerFields">
      <div class="form-group">
        <label>ÌîÑÎ°úÌïÑ ID * (ÏòÅÎ¨∏, ÏπúÍµ¨ Ï∂îÍ∞ÄÏóê ÏÇ¨Ïö©)</label>
        <input type="text" id="signupProfileId" placeholder="Jina" oninput="this.value = this.value.replace(/[^a-zA-Z0-9_]/g, '')">
      </div>
    </div>
    <div class="form-group">
      <label>Ïù¥Î©îÏùº / Email *</label>
      <input type="email" id="signupEmail" placeholder="email@example.com">
    </div>
    <div class="form-group">
      <label>ÎπÑÎ∞ÄÎ≤àÌò∏ / Password *</label>
      <input type="password" id="signupPw" placeholder="6Ïûê Ïù¥ÏÉÅ / 6+ characters">
    </div>
    <button class="auth-btn" onclick="doSignup()">ÌöåÏõêÍ∞ÄÏûÖ / Sign Up</button>
    <div class="auth-switch">
      Ïù¥ÎØ∏ Í≥ÑÏ†ïÏù¥ ÏûàÏúºÏã†Í∞ÄÏöî? <a onclick="showScreen('loginScreen')">Î°úÍ∑∏Ïù∏ / Login</a>
    </div>
  </div>
</div>

<!-- Ï±ÑÌåÖ Î™©Î°ù -->
<div class="screen" id="chatListScreen">
  <div class="chatlist-header">
    <h2 id="chatListTitle">Ï±ÑÌåÖ</h2>
    <div class="chatlist-header-btns">
      <button onclick="showPriceMenu()" id="priceMenuBtn" style="display:none;background:#C9A063;color:white;border:1px solid #C9A063;font-size:0.9rem;padding:0.4rem 1rem;font-weight:600;border-radius:20px;">Price</button>
      <button onclick="showFriendModal()">+ ÏπúÍµ¨Ï∂îÍ∞Ä</button>
      <button onclick="doLogout()" style="font-size:0.8rem;">Î°úÍ∑∏ÏïÑÏõÉ</button>
    </div>
  </div>
  <div id="myCodeBar" style="display:none;background:#F9F5ED;padding:0.5rem 1.2rem;border-bottom:1px solid #E5E5E5;font-size:0.85rem;text-align:center;">
    ÎÇ¥ ÏΩîÎìú: <b id="myCodeDisplay" style="font-size:1.1rem;letter-spacing:0.15em;color:#C9A063;"></b>
    <span style="color:#999;font-size:0.75rem;margin-left:0.5rem;">(ÎîîÏûêÏù¥ÎÑàÏóêÍ≤å ÏïåÎ†§Ï£ºÏÑ∏Ïöî)</span>
  </div>
  <div class="chatlist-items" id="chatListItems">
    <div class="no-chats">Ï±ÑÌåÖÏù¥ ÏóÜÏäµÎãàÎã§</div>
  </div>
</div>

<!-- ÏπúÍµ¨ Ï∂îÍ∞Ä Î™®Îã¨ -->
<div class="modal-overlay" id="friendModal">
  <div class="modal-box" style="position:relative;">
    <button class="modal-close" onclick="closeFriendModal()">√ó</button>
    <h3>üîç ÏπúÍµ¨ Ï∂îÍ∞Ä / Add Friend</h3>
    <p style="font-size:0.85rem; color:#888; margin-bottom:1rem; text-align:center;" id="friendSearchHint">ÎîîÏûêÏù¥ÎÑà IDÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî</p>
    <input type="text" id="friendSearchInput" placeholder="ID ÏûÖÎ†• (Ïòà: Jina)">
    <button class="gold-btn" onclick="searchFriend()">Í≤ÄÏÉâ / Search</button>
    <div class="modal-result" id="friendResult"></div>
  </div>
</div>

<!-- Ï±ÑÌåÖÎ∞© -->
<div class="screen" id="chatRoomScreen">
  <div class="chatroom-header">
    <button class="back-btn" onclick="backToChatList()">‚Üê</button>
    <div class="chatroom-header-info">
      <h3 id="roomPartnerName">-</h3>
      <p id="roomPartnerInfo"></p>
    </div>
    <button class="mobile-menu-btn" id="roomPriceBtn" onclick="toggleMobileMenu()" style="display:none;background:#C9A063;color:white;border:1px solid #C9A063;font-size:0.9rem;padding:0.4rem 1rem;font-weight:600;">Price</button>
    <div class="lang-badge" id="roomPartnerLang"></div>
  </div>
  <div class="messages" id="chatMessages"></div>
  <button class="scroll-bottom-btn" id="scrollBottomBtn" onclick="scrollToBottom()" style="display:none;">‚Üì</button>
  <div id="imgPreviewArea"></div>
  <div class="input-area">
    <button class="img-upload-btn" onclick="document.getElementById('imageInput').click()">üì∑</button>
    <input type="file" id="imageInput" accept="image/*" style="display:none;" onchange="previewImage(event)">
    <textarea class="msg-input" id="chatInput" rows="1" placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."></textarea>
    <button class="send-btn" onclick="sendChatMsg()">Ï†ÑÏÜ°</button>
  </div>
</div>

<!-- Î©îÎâ¥ ÏÇ¨Ïù¥ÎìúÎ∞î (Ï†ÑÏó≠ Ïò§Î≤ÑÎ†àÏù¥) -->
<div class="menu-overlay" id="menuOverlay" onclick="closeMobileMenu()"></div>
<div class="menu-sidebar" id="menuSidebar">
  <div class="menu-tabs" id="menuTabs">
    <div class="menu-tab active" data-tab="makeup" onclick="showMenu('makeup')">üíÑ Î©îÏù¥ÌÅ¨ÏóÖ</div>
    <div class="menu-tab" data-tab="hair" onclick="showMenu('hair')">üíá Ìó§Ïñ¥</div>
    <div class="menu-tab" data-tab="spa" onclick="showMenu('spa')">üßñ Ïä§Ìåå</div>
    <div class="menu-tab" data-tab="photo" onclick="showMenu('photo')">üì∑ Ìè¨ÌÜ†</div>
    <div class="menu-tab" data-tab="booking" onclick="showMenu('booking')">üìÖ ÏòàÏïΩÌïòÍ∏∞</div>
  </div>
  <div class="menu-content" id="menuContent"></div>
</div>

<!-- Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú ÏßÑÌñâ -->
<div class="upload-progress" id="uploadProgress">üì§ Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú Ï§ë...</div>

<!-- Ïä§ÌÉúÌîÑ ÌôîÎ©¥ -->
<div class="screen staff-screen" id="staffScreen">
  <div class="customer-list">
    <div class="list-header">
      <h2>Í≥†Í∞ù Î™©Î°ù</h2>
      <input type="text" class="search-box" id="searchBox" placeholder="Í≤ÄÏÉâ..." oninput="searchCustomers()">
    </div>
    <div class="customer-items" id="customerList"></div>
  </div>
  <div style="display: flex; flex-direction: column; flex: 1;">
    <div class="chat-header" style="background:white;padding:1rem;border-bottom:1px solid #E5E5E5;display:flex;justify-content:space-between;align-items:center;">
      <div>
        <h3 id="selectedName">Í≥†Í∞ùÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</h3>
        <p style="font-size:0.85rem;color:#666;" id="selectedInfo"></p>
      </div>
      <div class="lang-badge" id="selectedLang"></div>
    </div>
    <div class="messages" id="staffMsg"></div>
    <div class="quick-replies" id="quickReplies">
      <button class="quick-reply-toggle" onclick="toggleQuickReplies()">‚ö° Îπ†Î•∏ÎãµÎ≥Ä</button>
      <button class="quick-reply-btn" onclick="quickReply('address')">üìç Ï£ºÏÜå</button>
      <button class="quick-reply-btn" onclick="quickReply('confirmed')">‚úÖ ÏòàÏïΩÏôÑÎ£å</button>
      <button class="quick-reply-btn" onclick="quickReply('wechat')">üá®üá≥ ÏúÑÏ±ó</button>
      <button class="quick-reply-btn" onclick="quickReply('paypal')">üí≥ ÌéòÏù¥Ìåî</button>
      <button class="quick-reply-btn" onclick="quickReply('japan')">üáØüáµ ÏùºÎ≥∏</button>
    </div>
    <div class="input-area">
      <textarea class="msg-input" id="staffInput" rows="1" placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."></textarea>
      <button class="send-btn" onclick="sendStaffMsg()">Ï†ÑÏÜ°</button>
    </div>
  </div>
</div>

<script>
// ========================================
// Firebase Ï¥àÍ∏∞Ìôî
// ========================================
const firebaseConfig = {
  apiKey: "AIzaSyCeouM3_9JCWaKTGEeQFrD3ZikAgpheJQ8",
  authDomain: "mallang-chat.firebaseapp.com",
  databaseURL: "https://mallang-chat-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "mallang-chat",
  storageBucket: "mallang-chat.firebasestorage.app",
  messagingSenderId: "224793274849",
  appId: "1:224793274849:web:d97f17bf3c410f0ed88aa0"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();
const storage = firebase.storage();

// ========================================
// Ï†ÑÏó≠ Î≥ÄÏàò
// ========================================
let currentLang = 'ko';
let currentUser = null;
let currentUserData = null; // { name, role, profileId, lang, ... }
let currentChatId = null;
let currentChatType = null; // 'admin' or 'direct'
let currentChatPartner = null;
let selectedRoomId = null; // staff panel
let isSending = false;
let pendingImage = null; // ÏóÖÎ°úÎìúÌï† Ïù¥ÎØ∏ÏßÄ ÌååÏùº
let signupRole = 'customer';
let isSigningUp = false; // ÌöåÏõêÍ∞ÄÏûÖ ÏßÑÌñâÏ§ë ÌîåÎûòÍ∑∏

// ========================================
// Î≤àÏó≠ ÌÖçÏä§Ìä∏
// ========================================
const T = {
  ko: { placeholder: 'Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...', subtitle: 'ÏÉÅÎã¥ÏõêÏù¥ Í≥ß ÏùëÎãµÌï©ÎãàÎã§' },
  en: { placeholder: 'Type your message...', subtitle: 'Our team will reply shortly' },
  zh: { placeholder: 'ËØ∑ËæìÂÖ•Ê∂àÊÅØ...', subtitle: 'Êàë‰ª¨ÁöÑÂõ¢Èòü‰ºöÂ∞ΩÂø´ÂõûÂ§ç' },
  ja: { placeholder: '„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...', subtitle: '„Çπ„Çø„ÉÉ„Éï„Åå„Åô„Åê„Å´ÂØæÂøú„Åó„Åæ„Åô' },
  th: { placeholder: '‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...', subtitle: '‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ' },
  vi: { placeholder: 'Nh·∫≠p tin nh·∫Øn...', subtitle: 'Nh√¢n vi√™n s·∫Ω ph·∫£n h·ªìi s·ªõm' }
};

// ========================================
// GPT Î≤àÏó≠ Ìï®Ïàò
// ========================================
async function translateText(text, targetLang, context) {
  if (!text || !targetLang) return text;
  // ÌïúÍµ≠Ïñ¥‚ÜíÌïúÍµ≠Ïñ¥Îäî Ïä§ÌÇµ
  if (targetLang === 'ko' && /[Í∞Ä-Ìû£]/.test(text)) return text;
  // Ïù¥ÎØ∏ ÎåÄÏÉÅ Ïñ∏Ïñ¥Î©¥ Ïä§ÌÇµ (Í∞ÑÎã® Ï≤¥ÌÅ¨)
  if (targetLang === 'zh' && /[\u4e00-\u9fff]/.test(text) && !/[Í∞Ä-Ìû£]/.test(text)) return text;
  if (targetLang === 'ja' && /[\u3040-\u30ff]/.test(text)) return text;
  if (targetLang === 'th' && /[\u0e00-\u0e7f]/.test(text)) return text;
  
  try {
    const res = await fetch('/api/translate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ text, targetLang, context: context || '' })
    });
    const data = await res.json();
    return data.translated || text;
  } catch (e) {
    console.error('Translation error:', e);
    return text;
  }
}
const WECHAT_QR = 'data:image/jpeg;base64,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';

const quickConfirmed = `[CENTER]‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ[/CENTER]

[CENTER]‚úÖ ÏòàÏïΩ ÏôÑÎ£å ÎêòÏóàÏäµÎãàÎã§ ‚úÖ[/CENTER]

[CENTER]Íº≠ !! ÏùΩÏñ¥Ï£ºÏÑ∏Ïöî !![/CENTER]

**1. ÏòàÏïΩ ÏãúÍ∞Ñ 10Î∂Ñ Ïù¥ÏÉÅ ÏßÄÍ∞Å Ïãú ÏûêÎèô Ï∑®ÏÜåÎêòÎ©∞ ÏòàÏïΩÍ∏àÏùÄ ÌôòÎ∂àÎêòÏßÄ ÏïäÏäµÎãàÎã§.**
2. ÏòàÏïΩ Î≥ÄÍ≤Ω¬∑Ï∑®ÏÜåÎäî ÏòàÏïΩÏùº 2Ïùº Ï†Ñ Ïò§ÌõÑ 6Ïãú(KST)ÍπåÏßÄ Í∞ÄÎä•ÌïòÎ©∞, Ïù¥ÌõÑÏóêÎäî ÌôòÎ∂àÏù¥ Î∂àÍ∞ÄÌï©ÎãàÎã§.
3. Ìó§Ïñ¥ Ïä§ÌÉÄÏùºÎßÅÏùÑ ÏòàÏïΩÌïòÏã† Î∂ÑÏùÄ ÎãπÏùº Ïò§Ï†Ñ ÏàôÏÜåÏóêÏÑú ÏÉ¥Ìë∏ ÌõÑ Î¶∞Ïä§ÎÇò Ìó§Ïñ¥Ï†úÌíà ÏÇ¨Ïö©ÌïòÏßÄ ÎßêÍ≥† Î∞©Î¨∏Ìï¥Ï£ºÏÑ∏Ïöî(Ïª§Ìä∏ ÏòàÏïΩÏùÄ ÏÉ¥Ìë∏ Ìè¨Ìï® / Ïò§Ï†Ñ 11Ïãú Ïù¥Ï†Ñ ÏÉ¥Ìë∏ Î∂àÍ∞Ä)
4. Î©îÏù¥ÌÅ¨ÏóÖ ÏòàÏïΩ Í≥†Í∞ùÎãòÏùÄ Í∏∞Ï¥à ÏºÄÏñ¥Îßå ÌïòÍ≥† ÎØºÎÇØÏúºÎ°ú Î∞©Î¨∏Ìï¥ Ï£ºÏÑ∏Ïöî.
5. ÏΩòÌÉùÌä∏Î†åÏ¶àÎäî Î©îÏù¥ÌÅ¨ÏóÖ ÏãúÏûë Ï†ÑÏóê Î∞òÎìúÏãú Ï∞©Ïö©ÏùÑ ÏôÑÎ£åÌï¥ Ï£ºÏÑ∏Ïöî.
6. ÌòÑÏû• ÏÉÅÌô©Ïóê Îî∞Îùº Î∂àÍ∞ÄÌîºÌïú ÎåÄÍ∏∞ ÏãúÍ∞ÑÏù¥ Î∞úÏÉùÌï† Ïàò ÏûàÏäµÎãàÎã§.

**Îä¶Í≤å Ïò§ÏãúÎ©¥ Îã§Î•∏ ÏòàÏïΩ ÏÜêÎãòÎì§ÏóêÍ≤å ÎßâÎåÄÌïú ÌîºÌï¥Î•º Ï§Ñ Ïàò ÏûàÏúºÎãà Ï†úÎ∞ú ÏòàÏïΩ ÏãúÍ∞Ñ ÏïàÏóê ÎèÑÏ∞©Ìï¥ Ï£ºÏãúÍ∏∏ Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§**

ÏòàÏïΩ Ìï¥Ï£ºÏÖîÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§ üôè`;

// ========================================
// ÌôîÎ©¥ Ï†ÑÌôò
// ========================================
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  // ÌôîÎ©¥ Ï†ÑÌôò Ïãú ÏóêÎü¨ Î©îÏãúÏßÄ Ïà®Í∏∞Í∏∞
  const loginErr = document.getElementById('loginError');
  const signupErr = document.getElementById('signupError');
  if (loginErr) loginErr.style.display = 'none';
  if (signupErr) signupErr.style.display = 'none';
}

// ========================================
// Ïó≠Ìï† ÏÑ†ÌÉù (ÌöåÏõêÍ∞ÄÏûÖ)
// ========================================
function setRole(role) {
  signupRole = role;
  document.querySelectorAll('#roleToggle button').forEach(b => {
    b.classList.remove('active');
    if ((role === 'customer' && b.textContent.includes('Í≥†Í∞ù')) || (role === 'designer' && b.textContent.includes('ÎîîÏûêÏù¥ÎÑà'))) {
      b.classList.add('active');
    }
  });
  const df = document.getElementById('designerFields');
  if (role === 'designer') {
    df.classList.add('show');
    document.getElementById('friendSearchHint').textContent = 'Í≥†Í∞ù ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
  } else {
    df.classList.remove('show');
    document.getElementById('friendSearchHint').textContent = 'ÎîîÏûêÏù¥ÎÑà IDÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
  }
}

// ========================================
// Ïñ∏Ïñ¥ ÏÑ†ÌÉù (Í≥†Í∞ùÏö©)
// ========================================
let justSelectedLang = false; // Ïñ∏Ïñ¥ ÏÑ†ÌÉù ÌôîÎ©¥ÏóêÏÑú ÏÑ†ÌÉùÌñàÎäîÏßÄ

function selectLang(lang) {
  currentLang = lang;
  justSelectedLang = true;
  if (currentUser && currentUserData) {
    // Ïù¥ÎØ∏ Î°úÍ∑∏Ïù∏Îêú ÏÉÅÌÉú - DB Ïñ∏Ïñ¥ ÏóÖÎç∞Ïù¥Ìä∏
    db.ref('users/' + currentUser.uid).update({ lang: currentLang });
    if (currentUserData.adminRoomId) {
      db.ref('rooms/' + currentUserData.adminRoomId).update({ userLang: currentLang });
    }
    currentUserData.lang = currentLang;
    if (currentUserData.role !== 'designer') {
      initAdminRoom();
    }
    loadChatList();
    showScreen('chatListScreen');
  } else {
    showScreen('loginScreen');
  }
}

// ========================================
// Auth ÏÉÅÌÉú Í∞êÏßÄ
// ========================================
const isStaffMode = new URLSearchParams(window.location.search).has('staff');

auth.onAuthStateChanged(async (user) => {
  if (isStaffMode) {
    goStaff();
    return;
  }
  if (isSigningUp) return; // ÌöåÏõêÍ∞ÄÏûÖ Ï§ëÏóêÎäî Î¨¥Ïãú
  if (user) {
    currentUser = user;
    try {
      const snap = await db.ref('users/' + user.uid).once('value');
      currentUserData = snap.val();
    } catch (e) {
      console.error('ÏÇ¨Ïö©Ïûê Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', e);
      showScreen('langScreen');
      return;
    }
    
    if (currentUserData) {
      // Î∞©Í∏à Ïñ∏Ïñ¥Î•º ÏÑ†ÌÉùÌñàÏúºÎ©¥ Í∑∏ Ïñ∏Ïñ¥ Ïú†ÏßÄÌïòÍ≥† DB ÏóÖÎç∞Ïù¥Ìä∏
      if (justSelectedLang) {
        await db.ref('users/' + user.uid).update({ lang: currentLang });
        if (currentUserData.adminRoomId) {
          await db.ref('rooms/' + currentUserData.adminRoomId).update({ userLang: currentLang });
        }
        currentUserData.lang = currentLang;
        justSelectedLang = false;
      } else {
        currentLang = currentUserData.lang || 'en';
      }
      
      // Í∏∞Ï°¥ Í≥†Í∞ùÏóêÍ≤å friendCodeÍ∞Ä ÏóÜÏúºÎ©¥ ÏûêÎèô ÏÉùÏÑ±
      if (currentUserData.role !== 'designer' && !currentUserData.friendCode) {
        const code = await getUniqueCode();
        await db.ref('users/' + user.uid).update({ friendCode: code });
        await db.ref('customerCodes/' + code).set(user.uid);
        currentUserData.friendCode = code;
      }
      
      // Í≥†Í∞ùÏù¥Î©¥ Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖÎ∞© ÌôïÏù∏/ÏÉùÏÑ±
      if (currentUserData.role !== 'designer') {
        if (!currentUserData.adminRoomId) {
          await initAdminRoom();
        }
      }
      
      // Ï±ÑÌåÖ Î™©Î°ùÏúºÎ°ú
      loadChatList();
      showScreen('chatListScreen');
      
      // Í≥†Í∞ùÏù¥Î©¥ Price Î≤ÑÌäº + ÏΩîÎìú ÌëúÏãú
      if (currentUserData.role !== 'designer') {
        document.getElementById('priceMenuBtn').style.display = 'inline-block';
        if (currentUserData.friendCode) {
          document.getElementById('myCodeBar').style.display = 'block';
          document.getElementById('myCodeDisplay').textContent = currentUserData.friendCode;
        }
      }
    } else {
      showScreen('langScreen');
    }
  } else {
    currentUser = null;
    currentUserData = null;
    showScreen('langScreen');
  }
});

// ========================================
// Í≥†Í∞ù ÏΩîÎìú ÏÉùÏÑ± (ÏòÅÎ¨∏+Ïà´Ïûê 4ÏûêÎ¶¨)
// ========================================
function generateCode() {
  const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789'; // ÌòºÎèô Î∞©ÏßÄ: 0/O, 1/I Ï†úÏô∏
  let code = '';
  for (let i = 0; i < 4; i++) {
    code += chars[Math.floor(Math.random() * chars.length)];
  }
  return code;
}

async function getUniqueCode() {
  let code, exists = true;
  while (exists) {
    code = generateCode();
    const snap = await db.ref('customerCodes/' + code).once('value');
    exists = snap.exists();
  }
  return code;
}

// ========================================
// ÌöåÏõêÍ∞ÄÏûÖ
// ========================================
async function doSignup() {
  const name = document.getElementById('signupName').value.trim();
  const email = document.getElementById('signupEmail').value.trim();
  const pw = document.getElementById('signupPw').value;
  const profileId = document.getElementById('signupProfileId').value.trim();
  const errEl = document.getElementById('signupError');
  
  errEl.style.display = 'none';
  
  if (!name || !email || !pw) {
    errEl.textContent = 'Î™®Îì† Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî / Please fill in all fields';
    errEl.style.display = 'block';
    return;
  }
  
  if (signupRole === 'designer' && !profileId) {
    errEl.textContent = 'ÌîÑÎ°úÌïÑ IDÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
    errEl.style.display = 'block';
    return;
  }
  
  // ÎîîÏûêÏù¥ÎÑà ÌîÑÎ°úÌïÑ ID Ï§ëÎ≥µ ÌôïÏù∏
  if (signupRole === 'designer') {
    const idCheck = await db.ref('profileIds/' + profileId.toLowerCase()).once('value');
    if (idCheck.exists()) {
      errEl.textContent = 'Ïù¥ÎØ∏ ÏÇ¨Ïö©Ï§ëÏù∏ IDÏûÖÎãàÎã§ / ID already taken';
      errEl.style.display = 'block';
      return;
    }
  }
  
  try {
    isSigningUp = true;
    const cred = await auth.createUserWithEmailAndPassword(email, pw);
    await cred.user.updateProfile({ displayName: name });
    
    const userData = {
      name: name,
      email: email,
      role: signupRole,
      lang: signupRole === 'designer' ? 'ko' : currentLang,
      createdAt: Date.now()
    };
    
    if (signupRole === 'designer') {
      userData.profileId = profileId;
      // ÌîÑÎ°úÌïÑ ID Ïù∏Îç±Ïä§ Ï†ÄÏû•
      await db.ref('profileIds/' + profileId.toLowerCase()).set(cred.user.uid);
    } else {
      // Í≥†Í∞ù: Í≥†Ïú† 4ÏûêÎ¶¨ ÏΩîÎìú ÏÉùÏÑ±
      const code = await getUniqueCode();
      userData.friendCode = code;
      await db.ref('customerCodes/' + code).set(cred.user.uid);
    }
    
    await db.ref('users/' + cred.user.uid).set(userData);
    
    // ÏàòÎèôÏúºÎ°ú ÏÉÅÌÉú ÏÑ§Ï†ï ÌõÑ ÌôîÎ©¥ Ïù¥Îèô
    currentUser = cred.user;
    currentUserData = userData;
    
    // Í≥†Í∞ùÏù¥Î©¥ Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖÎ∞© ÏÉùÏÑ±
    if (signupRole !== 'designer') {
      await initAdminRoom();
    }
    
    isSigningUp = false;
    loadChatList();
    showScreen('chatListScreen');
    
    if (signupRole !== 'designer') {
      document.getElementById('priceMenuBtn').style.display = 'inline-block';
      if (userData.friendCode) {
        document.getElementById('myCodeBar').style.display = 'block';
        document.getElementById('myCodeDisplay').textContent = userData.friendCode;
      }
    }
    
  } catch (error) {
    isSigningUp = false;
    errEl.textContent = getAuthErrorMsg(error.code);
    errEl.style.display = 'block';
  }
}

// ========================================
// Î°úÍ∑∏Ïù∏
// ========================================
async function doLogin() {
  const email = document.getElementById('loginEmail').value.trim();
  const pw = document.getElementById('loginPw').value;
  const errEl = document.getElementById('loginError');
  
  errEl.style.display = 'none';
  if (!email || !pw) {
    errEl.textContent = 'Ïù¥Î©îÏùºÍ≥º ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
    errEl.style.display = 'block';
    return;
  }
  
  try {
    await auth.signInWithEmailAndPassword(email, pw);
  } catch (error) {
    errEl.textContent = getAuthErrorMsg(error.code);
    errEl.style.display = 'block';
  }
}

// ========================================
// Î°úÍ∑∏ÏïÑÏõÉ
// ========================================
async function doLogout() {
  if (!confirm('Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
  currentUser = null;
  currentUserData = null;
  currentChatId = null;
  await auth.signOut();
  showScreen('langScreen');
}

// ========================================
// Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖÎ∞© ÏÉùÏÑ± (Í≥†Í∞ùÏö©, Í∏∞Ï°¥ Ìò∏Ìôò)
// ========================================
async function initAdminRoom() {
  if (!currentUser) return;
  const uid = currentUser.uid;
  const roomId = 'room_' + uid;
  
  const snap = await db.ref('rooms/' + roomId).once('value');
  if (!snap.exists()) {
    const welcomeKo = 'ÏïàÎÖïÌïòÏÑ∏Ïöî Î∑∞Ìã∞ÏÉµ [ ÎßêÎûë ] ÏûÖÎãàÎã§\n\nÏÉÅÎã®Ïùò Price Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ Í∞ÄÍ≤©Í≥º ÏòàÏïΩÏñëÏãùÏù¥ ÎÇòÏòµÎãàÎã§\nÍ∞ÄÍ≤© ÌôïÏù∏ ÌõÑ ÏòàÏïΩ ÏñëÏãùÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî';
    const welcomeTranslated = (currentLang !== 'ko') ? await translateText(welcomeKo, currentLang, 'staff_to_customer') : welcomeKo;
    await db.ref('rooms/' + roomId).set({
      userName: currentUser.displayName || 'Guest',
      userEmail: currentUser.email || '',
      userLang: currentLang,
      userId: uid,
      lastMessage: welcomeKo,
      lastMessageTranslated: welcomeTranslated,
      lastMessageTime: Date.now(),
      unreadCount: 0
    });
    // Ïõ∞Ïª¥ Î©îÏãúÏßÄ Ï†ÑÏÜ°
    await db.ref('rooms/' + roomId + '/messages').push({
      text: welcomeKo,
      translated: welcomeTranslated,
      isStaff: true,
      timestamp: Date.now()
    });
  }
  
  await db.ref('users/' + uid).update({ adminRoomId: roomId, lang: currentLang });
  if (currentUserData) currentUserData.adminRoomId = roomId;
}

// ========================================
// Ï±ÑÌåÖ Î™©Î°ù
// ========================================
function loadChatList() {
  if (!currentUser) return;
  const uid = currentUser.uid;
  const container = document.getElementById('chatListItems');
  
  // ÌÉÄÏù¥ÌãÄ ÏóÖÎç∞Ïù¥Ìä∏
  document.getElementById('chatListTitle').textContent = 
    currentUserData?.role === 'designer' ? 'üí¨ Ï±ÑÌåÖ' : 'üí¨ Ï±ÑÌåÖ';
  
  // 1:1 Ï±ÑÌåÖ Î™©Î°ù Î¶¨Ïä§Îãù
  db.ref('userChats/' + uid).on('value', async (snap) => {
    const chats = snap.val() || {};
    let items = [];
    
    // Í≥†Í∞ùÏù¥Î©¥ Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖ Ï∂îÍ∞Ä (Îß® ÏúÑ)
    if (currentUserData?.role !== 'designer' && currentUserData?.adminRoomId) {
      const adminSnap = await db.ref('rooms/' + currentUserData.adminRoomId).once('value');
      const adminRoom = adminSnap.val();
      if (adminRoom) {
        let preview = adminRoom.lastMessageTranslated || adminRoom.lastMessage || 'ÏÉàÎ°úÏö¥ ÎåÄÌôî';
        // Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞Ïóê Î≤àÏó≠Î≥∏Ïù¥ ÏóÜÏúºÎ©¥ Î≤àÏó≠ ÏãúÎèÑ
        if (!adminRoom.lastMessageTranslated && currentLang !== 'ko' && adminRoom.lastMessage) {
          translateText(adminRoom.lastMessage, currentLang, 'staff_to_customer').then(t => {
            const previewEl = document.querySelector('.customer-preview');
            if (previewEl) previewEl.textContent = t.substring(0, 50) + (t.length > 50 ? '...' : '');
          });
        }
        items.push({
          id: currentUserData.adminRoomId,
          type: 'admin',
          name: 'MALLANG',
          avatar: 'M',
          avatarClass: 'admin',
          preview: preview,
          time: adminRoom.lastMessageTime || 0,
          unread: 0
        });
      }
    }
    
    // 1:1 Ï±ÑÌåÖÎì§
    const chatEntries = Object.entries(chats);
    for (const [chatId, chatInfo] of chatEntries) {
      const partnerUid = chatInfo.partnerUid;
      const partnerSnap = await db.ref('users/' + partnerUid).once('value');
      const partner = partnerSnap.val();
      if (!partner) continue;
      
      const chatSnap = await db.ref('chats/' + chatId).once('value');
      const chatData = chatSnap.val();
      
      items.push({
        id: chatId,
        type: 'direct',
        name: partner.name || 'Unknown',
        partnerUid: partnerUid,
        avatar: (partner.name || '?')[0].toUpperCase(),
        avatarClass: partner.role === 'designer' ? 'designer' : '',
        preview: chatData?.lastMessage || 'ÏÉàÎ°úÏö¥ ÎåÄÌôî',
        time: chatData?.lastMessageTime || 0,
        unread: chatData?.['unread_' + uid] || 0,
        lang: partner.lang
      });
    }
    
    // ÏãúÍ∞ÑÏàú Ï†ïÎ†¨ (Í¥ÄÎ¶¨Ïûê Ï†úÏô∏)
    const adminItem = items.find(i => i.type === 'admin');
    const directItems = items.filter(i => i.type !== 'admin')
      .sort((a, b) => b.time - a.time);
    items = adminItem ? [adminItem, ...directItems] : directItems;
    
    if (items.length === 0) {
      container.innerHTML = '<div class="no-chats">Ï±ÑÌåÖÏù¥ ÏóÜÏäµÎãàÎã§<br><br>+ ÏπúÍµ¨Ï∂îÍ∞Ä Î≤ÑÌäºÏúºÎ°ú<br>ÏπúÍµ¨Î•º Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî!</div>';
      return;
    }
    
    container.innerHTML = items.map(item => `
      <div class="chatlist-item" onclick="openChat('${item.id}', '${item.type}', '${item.partnerUid || ''}')">
        <div class="chatlist-avatar ${item.avatarClass}">${item.avatar}</div>
        <div class="chatlist-info">
          <div class="chatlist-name">
            ${escapeHtml(item.name)}
            ${item.lang ? '<span style="font-size:0.75rem;color:#999;">' + getFlag(item.lang) + '</span>' : ''}
          </div>
          <div class="chatlist-preview">${previewText(item.preview)}</div>
        </div>
        <div class="chatlist-meta">
          <div class="chatlist-time">${formatTime(item.time)}</div>
          ${item.unread > 0 ? '<div class="chatlist-unread">' + item.unread + '</div>' : ''}
        </div>
      </div>
    `).join('');
  });
  
  // Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖÎ∞© Î≥ÄÍ≤Ω Í∞êÏßÄ (Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏)
  if (currentUserData?.adminRoomId) {
    db.ref('rooms/' + currentUserData.adminRoomId).on('value', () => {
      // chatlistÍ∞Ä ÏóÖÎç∞Ïù¥Ìä∏ÎêòÎèÑÎ°ù userChats Ìä∏Î¶¨Í±∞
      db.ref('userChats/' + uid).once('value'); // Î¶¨ÌîÑÎ†àÏãú Ìä∏Î¶¨Í±∞
    });
  }
}

// ========================================
// Ï±ÑÌåÖÎ∞© Ïó¥Í∏∞
// ========================================
function openChat(chatId, type, partnerUid) {
  currentChatId = chatId;
  currentChatType = type;
  currentChatPartner = partnerUid;
  
  // Î©îÏãúÏßÄ Ïª®ÌÖåÏù¥ÎÑà Ï¥àÍ∏∞Ìôî
  document.getElementById('chatMessages').innerHTML = '';
  document.getElementById('imgPreviewArea').innerHTML = '';
  pendingImage = null;
  
  if (type === 'admin') {
    // Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖ
    document.getElementById('roomPartnerName').textContent = 'MALLANG';
    document.getElementById('roomPartnerInfo').textContent = T[currentLang]?.subtitle || T.en.subtitle;
    document.getElementById('roomPartnerLang').textContent = '';
    document.getElementById('roomPriceBtn').style.display = 'inline-flex';
    document.getElementById('chatInput').placeholder = T[currentLang]?.placeholder || T.en.placeholder;
    
    listenAdminMessages();
  } else {
    // 1:1 Ï±ÑÌåÖ
    document.getElementById('roomPriceBtn').style.display = 'none';
    document.getElementById('chatInput').placeholder = 'Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...';
    
    db.ref('users/' + partnerUid).once('value', snap => {
      const partner = snap.val();
      if (partner) {
        document.getElementById('roomPartnerName').textContent = partner.name;
        document.getElementById('roomPartnerInfo').textContent = partner.role === 'designer' ? '‚úÇÔ∏è Designer' : 'üë§ Customer';
        document.getElementById('roomPartnerLang').textContent = getFlag(partner.lang) + ' ' + (partner.lang || '').toUpperCase();
      }
    });
    
    // ÏùΩÏùå Ï≤òÎ¶¨
    if (currentUser) {
      db.ref('chats/' + chatId + '/unread_' + currentUser.uid).set(0);
    }
    
    listenDirectMessages();
  }
  
  showScreen('chatRoomScreen');
  
  // Î©îÏãúÏßÄ Î°úÎìú ÌõÑ ÏµúÍ∑º ÎåÄÌôîÎ°ú ÏûêÎèô Ïä§ÌÅ¨Î°§
  setTimeout(() => scrollToBottom(), 500);
  setTimeout(() => scrollToBottom(), 1500);
  
  // ÏòàÏïΩ ÏñëÏãù ÎåÄÍ∏∞ Ï§ëÏù¥Î©¥ Ï±ÑÌåÖ ÏûÖÎ†•Ï∞ΩÏóê ÎÑ£Í∏∞
  if (pendingBookingForm) {
    setTimeout(() => {
      const input = document.getElementById('chatInput');
      if (input) {
        input.value = pendingBookingForm;
        input.focus();
        autoResize(input);
      }
      pendingBookingForm = null;
    }, 300);
  }
}

function backToChatList() {
  // Î¶¨Ïä§ÎÑà Ìï¥Ï†ú
  if (currentChatId) {
    if (currentChatType === 'admin') {
      db.ref('rooms/' + currentChatId + '/messages').off();
    } else {
      db.ref('chats/' + currentChatId + '/messages').off();
    }
  }
  currentChatId = null;
  currentChatType = null;
  showScreen('chatListScreen');
}

// ========================================
// Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖ Î©îÏãúÏßÄ (Í∏∞Ï°¥ rooms Íµ¨Ï°∞)
// ========================================
function listenAdminMessages() {
  const container = document.getElementById('chatMessages');
  container.innerHTML = '';
  
  db.ref('rooms/' + currentChatId + '/messages').off();
  db.ref('rooms/' + currentChatId + '/messages').on('child_added', snap => {
    const msg = snap.val();
    if (!msg || msg.deleted) return;
    const isMine = !msg.isStaff;
    // Í≥†Í∞ùÏùÄ Ïä§ÌÉúÌîÑ Î©îÏãúÏßÄÏùò Î≤àÏó≠Î≥∏ÏùÑ, ÏûêÏã†Ïùò Î©îÏãúÏßÄÎäî ÏõêÎ¨∏ÏùÑ Î¥Ñ
    const displayText = isMine ? msg.text : (msg.translated || msg.text);
    const originalText = isMine ? null : (msg.translated && msg.translated !== msg.text ? msg.text : null);
    appendMessage(container, displayText, msg.imageUrl, isMine, msg.timestamp, snap.key, originalText);
  });
}

// ========================================
// 1:1 Ï±ÑÌåÖ Î©îÏãúÏßÄ
// ========================================
function listenDirectMessages() {
  const container = document.getElementById('chatMessages');
  container.innerHTML = '';
  
  db.ref('chats/' + currentChatId + '/messages').off();
  db.ref('chats/' + currentChatId + '/messages').on('child_added', snap => {
    const msg = snap.val();
    if (!msg || msg.deleted) return;
    const isMine = msg.sender === currentUser.uid;
    // ÏÉÅÎåÄÎ∞© Î©îÏãúÏßÄÎäî Î≤àÏó≠Î≥∏ÏùÑ, ÏûêÏã†Ïùò Î©îÏãúÏßÄÎäî ÏõêÎ¨∏ÏùÑ Î¥Ñ
    const displayText = isMine ? msg.text : (msg.translated || msg.text);
    const originalText = isMine ? null : (msg.translated && msg.translated !== msg.text ? msg.text : null);
    appendMessage(container, displayText, msg.imageUrl, isMine, msg.timestamp, snap.key, originalText);
  });
}

// ========================================
// Î©îÏãúÏßÄ UI Ï∂îÍ∞Ä
// ========================================
function appendMessage(container, text, imageUrl, isMine, timestamp, msgKey, originalText) {
  const div = document.createElement('div');
  div.className = 'message ' + (isMine ? 'from-me' : 'from-them');
  div.id = 'msg-' + msgKey;
  
  let content = '';
  if (imageUrl) {
    content += `<img src="${imageUrl}" class="msg-img" onclick="window.open('${imageUrl}','_blank')">`;
  }
  if (text) {
    content += renderMessage(text);
  }
  
  let originalToggle = '';
  if (originalText) {
    const origId = 'orig-' + msgKey;
    originalToggle = `<div class="msg-original-toggle" onclick="toggleOriginal('${origId}')">üìÑ ÏõêÎ¨∏ Î≥¥Í∏∞</div><div class="msg-original" id="${origId}" style="display:none;">${renderMessage(originalText)}</div>`;
  }
  
  div.innerHTML = `
    <div class="msg-bubble">${content}${originalToggle}</div>
    <div class="msg-time">${formatTime(timestamp)}</div>
  `;
  container.appendChild(div);
  container.scrollTop = container.scrollHeight;
}

function toggleOriginal(id) {
  const el = document.getElementById(id);
  if (!el) return;
  const btn = el.previousElementSibling;
  if (el.style.display === 'none') {
    el.style.display = 'block';
    btn.textContent = 'üìÑ Î≤àÏó≠ Î≥¥Í∏∞';
  } else {
    el.style.display = 'none';
    btn.textContent = 'üìÑ ÏõêÎ¨∏ Î≥¥Í∏∞';
  }
}

function scrollToBottom() {
  const container = document.getElementById('chatMessages');
  if (container) {
    container.scrollTop = container.scrollHeight;
  }
  document.getElementById('scrollBottomBtn').style.display = 'none';
}

// Ïä§ÌÅ¨Î°§ ÏúÑÏπòÏóê Îî∞Îùº ÌôîÏÇ¥Ìëú Î≤ÑÌäº ÌëúÏãú/Ïà®ÍπÄ
document.addEventListener('DOMContentLoaded', () => {
  const container = document.getElementById('chatMessages');
  if (container) {
    container.addEventListener('scroll', () => {
      const btn = document.getElementById('scrollBottomBtn');
      const gap = container.scrollHeight - container.scrollTop - container.clientHeight;
      btn.style.display = gap > 200 ? 'flex' : 'none';
    });
  }
});

// ========================================
// Î©îÏãúÏßÄ Ï†ÑÏÜ°
// ========================================
async function sendChatMsg() {
  if (isSending) return;
  const input = document.getElementById('chatInput');
  const text = input.value.trim();
  
  if (!text && !pendingImage) return;
  if (!currentChatId) return;
  
  isSending = true;
  input.value = '';
  input.style.height = 'auto';
  
  let imageUrl = null;
  
  // Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú
  if (pendingImage) {
    document.getElementById('uploadProgress').classList.add('active');
    try {
      const fileName = Date.now() + '_' + pendingImage.name;
      const ref = storage.ref('chat-images/' + currentChatId + '/' + fileName);
      const snapshot = await ref.put(pendingImage);
      imageUrl = await snapshot.ref.getDownloadURL();
    } catch (e) {
      alert('Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú Ïã§Ìå®: ' + e.message);
      isSending = false;
      document.getElementById('uploadProgress').classList.remove('active');
      return;
    }
    document.getElementById('uploadProgress').classList.remove('active');
    pendingImage = null;
    document.getElementById('imgPreviewArea').innerHTML = '';
  }
  
  try {
    if (currentChatType === 'admin') {
      // Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖ: Í≥†Í∞ù Î©îÏãúÏßÄÎ•º ÌïúÍµ≠Ïñ¥Î°ú Î≤àÏó≠
      const translated = (text && currentLang !== 'ko') ? await translateText(text, 'ko', 'customer_to_staff') : text;
      await db.ref('rooms/' + currentChatId + '/messages').push({
        text: text || '', translated: translated || '', imageUrl: imageUrl || null, isStaff: false, timestamp: Date.now()
      });
      await db.ref('rooms/' + currentChatId).update({
        lastMessage: imageUrl ? 'üì∑ ÏÇ¨ÏßÑ' : text,
        lastMessageTranslated: imageUrl ? 'üì∑ ÏÇ¨ÏßÑ' : translated,
        lastMessageTime: Date.now(),
        unreadCount: firebase.database.ServerValue.increment(1)
      });
    } else {
      // 1:1 Ï±ÑÌåÖ: ÎÇ¥ Î©îÏãúÏßÄÎ•º ÏÉÅÎåÄ Ïñ∏Ïñ¥Î°ú Î≤àÏó≠
      let partnerLang = 'ko';
      if (currentChatPartner) {
        const pSnap = await db.ref('users/' + currentChatPartner).once('value');
        const pData = pSnap.val();
        partnerLang = pData?.lang || 'ko';
      }
      const translated = (text && currentLang !== partnerLang) ? await translateText(text, partnerLang) : text;
      await db.ref('chats/' + currentChatId + '/messages').push({
        sender: currentUser.uid,
        text: text || '',
        translated: translated || '',
        imageUrl: imageUrl || null,
        timestamp: Date.now()
      });
      const lastMsg = imageUrl ? 'üì∑ ÏÇ¨ÏßÑ' : text;
      const updates = {
        lastMessage: lastMsg,
        lastMessageTime: Date.now()
      };
      updates['unread_' + currentChatPartner] = firebase.database.ServerValue.increment(1);
      await db.ref('chats/' + currentChatId).update(updates);
    }
  } catch (error) {
    alert('Ï†ÑÏÜ° Ïã§Ìå®: ' + error.message);
  } finally { isSending = false; }
}

// ========================================
// Ïù¥ÎØ∏ÏßÄ ÎØ∏Î¶¨Î≥¥Í∏∞
// ========================================
function previewImage(event) {
  const file = event.target.files[0];
  if (!file) return;
  
  // 10MB Ï†úÌïú
  if (file.size > 10 * 1024 * 1024) {
    alert('10MB Ïù¥ÌïòÏùò Ïù¥ÎØ∏ÏßÄÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§');
    return;
  }
  
  pendingImage = file;
  const reader = new FileReader();
  reader.onload = function(e) {
    document.getElementById('imgPreviewArea').innerHTML = `
      <div class="img-preview" style="padding: 0.5rem 1rem;">
        <img src="${e.target.result}">
        <button class="img-preview-remove" onclick="cancelImage()">‚úï</button>
      </div>
    `;
  };
  reader.readAsDataURL(file);
  event.target.value = '';
}

function cancelImage() {
  pendingImage = null;
  document.getElementById('imgPreviewArea').innerHTML = '';
}

// ========================================
// ÏπúÍµ¨ Ï∂îÍ∞Ä
// ========================================
function showFriendModal() {
  document.getElementById('friendModal').classList.add('active');
  document.getElementById('friendSearchInput').value = '';
  document.getElementById('friendResult').className = 'modal-result';
  document.getElementById('friendResult').innerHTML = '';
  
  const input = document.getElementById('friendSearchInput');
  if (currentUserData?.role === 'designer') {
    document.getElementById('friendSearchHint').textContent = 'Í≥†Í∞ù ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
    input.placeholder = 'ÏΩîÎìú ÏûÖÎ†• (Ïòà: A7K2)';
    input.oninput = function() { this.value = this.value.toUpperCase().replace(/[^A-Z0-9]/g, ''); };
  } else {
    document.getElementById('friendSearchHint').textContent = 'ÎîîÏûêÏù¥ÎÑà IDÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
    input.placeholder = 'ID ÏûÖÎ†• (Ïòà: Jina)';
    input.oninput = function() { this.value = this.value.replace(/[^a-zA-Z0-9_]/g, ''); };
  }
}

function closeFriendModal() {
  document.getElementById('friendModal').classList.remove('active');
}

async function searchFriend() {
  const query = document.getElementById('friendSearchInput').value.trim();
  const resultEl = document.getElementById('friendResult');
  
  if (!query) return;
  
  let foundUid = null;
  let foundUser = null;
  
  if (currentUserData?.role === 'designer') {
    // ÎîîÏûêÏù¥ÎÑàÎäî Í≥†Í∞ù ÏΩîÎìúÎ°ú Í≤ÄÏÉâ
    const codeQuery = query.toUpperCase();
    const uidSnap = await db.ref('customerCodes/' + codeQuery).once('value');
    if (uidSnap.exists()) {
      foundUid = uidSnap.val();
      const userSnap = await db.ref('users/' + foundUid).once('value');
      foundUser = userSnap.val();
      if (foundUser && foundUser.role === 'designer') {
        foundUser = null; // Í≥†Í∞ùÎßå
      }
    }
  } else {
    // Í≥†Í∞ùÏùÄ ÎîîÏûêÏù¥ÎÑà profileIdÎ°ú Í≤ÄÏÉâ
    const uidSnap = await db.ref('profileIds/' + query.toLowerCase()).once('value');
    if (uidSnap.exists()) {
      foundUid = uidSnap.val();
      const userSnap = await db.ref('users/' + foundUid).once('value');
      foundUser = userSnap.val();
      if (foundUser && foundUser.role !== 'designer') {
        foundUser = null; // ÎîîÏûêÏù¥ÎÑàÎßå
      }
    }
  }
  
  if (foundUser && foundUid !== currentUser.uid) {
    // Ïù¥ÎØ∏ ÏπúÍµ¨Ïù∏ÏßÄ ÌôïÏù∏
    const friendCheck = await db.ref('friends/' + currentUser.uid + '/' + foundUid).once('value');
    const alreadyFriend = friendCheck.exists();
    
    resultEl.className = 'modal-result found';
    resultEl.innerHTML = `
      <div class="modal-result-user">
        <div class="chatlist-avatar ${foundUser.role === 'designer' ? 'designer' : ''}" style="width:40px;height:40px;font-size:1rem;">
          ${(foundUser.name || '?')[0].toUpperCase()}
        </div>
        <div style="flex:1;">
          <div style="font-weight:600;">${escapeHtml(foundUser.name)}</div>
          <div style="font-size:0.8rem;color:#888;">${foundUser.role === 'designer' ? '‚úÇÔ∏è Designer ¬∑ ' + (foundUser.profileId || '') : 'üë§ Customer' + (foundUser.friendCode ? ' ¬∑ ' + foundUser.friendCode : '')}</div>
        </div>
        ${alreadyFriend ? 
          '<span style="color:#888;font-size:0.85rem;">Ïù¥ÎØ∏ ÏπúÍµ¨</span>' : 
          `<button class="gold-btn" style="width:auto;padding:0.4rem 1rem;" onclick="addFriend('${foundUid}')">Ï∂îÍ∞Ä</button>`
        }
      </div>
    `;
  } else {
    resultEl.className = 'modal-result not-found';
    resultEl.innerHTML = 'Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§';
  }
}

async function addFriend(friendUid) {
  if (!currentUser) return;
  const uid = currentUser.uid;
  
  try {
    // ÏñëÎ∞©Ìñ• ÏπúÍµ¨ Îì±Î°ù
    await db.ref('friends/' + uid + '/' + friendUid).set({ since: Date.now() });
    await db.ref('friends/' + friendUid + '/' + uid).set({ since: Date.now() });
    
    // Ï±ÑÌåÖÎ∞© ÏÉùÏÑ±
    const chatId = [uid, friendUid].sort().join('_');
    
    const chatSnap = await db.ref('chats/' + chatId).once('value');
    if (!chatSnap.exists()) {
      await db.ref('chats/' + chatId).set({
        participants: { [uid]: true, [friendUid]: true },
        lastMessage: '',
        lastMessageTime: Date.now(),
        ['unread_' + uid]: 0,
        ['unread_' + friendUid]: 0
      });
    }
    
    // ÏñëÏ™Ω Ïú†Ï†ÄÏùò Ï±ÑÌåÖ Î™©Î°ùÏóê Ï∂îÍ∞Ä
    await db.ref('userChats/' + uid + '/' + chatId).set({ partnerUid: friendUid });
    await db.ref('userChats/' + friendUid + '/' + chatId).set({ partnerUid: uid });
    
    closeFriendModal();
    alert('ÏπúÍµ¨ Ï∂îÍ∞Ä ÏôÑÎ£å! ‚úÖ');
    
  } catch (error) {
    alert('ÏπúÍµ¨ Ï∂îÍ∞Ä Ïã§Ìå®: ' + error.message);
  }
}

// ========================================
// Ïä§ÌÉúÌîÑ Í¥ÄÎ¶¨Ïûê Ìå®ÎÑê (Í∏∞Ï°¥ Ïú†ÏßÄ)
// ========================================
const STAFF_PW = 'mallang1347';

function goStaff() {
  const pw = prompt('Ïä§ÌÉúÌîÑ ÎπÑÎ∞ÄÎ≤àÌò∏:');
  if (pw === STAFF_PW) {
    showScreen('staffScreen');
    loadCustomerList();
  } else if (pw !== null) {
    alert('ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÌãÄÎ†∏ÏäµÎãàÎã§.');
  }
}

function loadCustomerList() {
  db.ref('rooms').on('value', snap => {
    const rooms = snap.val();
    if (!rooms) {
      document.getElementById('customerList').innerHTML = '<div style="padding:2rem;text-align:center;color:#999;">ÏïÑÏßÅ Í≥†Í∞ùÏù¥ ÏóÜÏäµÎãàÎã§</div>';
      return;
    }
    const html = Object.entries(rooms)
      .sort((a,b) => b[1].lastMessageTime - a[1].lastMessageTime)
      .map(([id, r]) => `
        <div class="customer-item ${selectedRoomId === id ? 'active' : ''}" onclick="selectCustomer('${id}')">
          <div class="customer-name">
            ${r.userName || 'Ïù¥Î¶Ñ ÏóÜÏùå'}
            ${r.unreadCount > 0 ? `<span class="unread">${r.unreadCount}</span>` : ''}
          </div>
          <div class="customer-preview">${previewText(r.lastMessage)}</div>
          <div class="customer-time">${formatTime(r.lastMessageTime)}</div>
        </div>
      `).join('');
    document.getElementById('customerList').innerHTML = html;
  });
}

function selectCustomer(roomId) {
  selectedRoomId = roomId;
  db.ref('rooms/' + roomId).once('value', snap => {
    const r = snap.val();
    if (!r) return;
    document.getElementById('selectedName').textContent = r.userName || 'Ïù¥Î¶Ñ ÏóÜÏùå';
    document.getElementById('selectedInfo').textContent = r.userEmail || '';
    document.getElementById('selectedLang').textContent = getFlag(r.userLang) + ' ' + (r.userLang || 'EN').toUpperCase();
  });
  db.ref('rooms/' + roomId + '/unreadCount').set(0);
  listenStaffMessages(roomId);
}

function listenStaffMessages(roomId) {
  const container = document.getElementById('staffMsg');
  container.innerHTML = '';
  
  db.ref('rooms/' + roomId + '/messages').off();
  db.ref('rooms/' + roomId + '/messages').on('child_added', snap => {
    const msg = snap.val();
    if (!msg) return;
    const msgKey = snap.key;
    const div = document.createElement('div');
    div.id = 'msg-' + msgKey;
    
    if (msg.deleted) {
      div.style.display = 'none';
      container.appendChild(div);
      return;
    }
    
    div.className = 'message ' + (msg.isStaff ? 'from-me' : 'from-them');
    const deleteBtn = msg.isStaff ? `<button class="msg-delete" onclick="deleteMessage('${roomId}','${msgKey}')" title="ÏÇ≠Ï†ú">‚úï</button>` : '';
    
    let content = '';
    if (msg.imageUrl) content += `<img src="${msg.imageUrl}" class="msg-img" onclick="window.open('${msg.imageUrl}','_blank')">`;
    // Ïä§ÌÉúÌîÑÎäî Í≥†Í∞ù Î©îÏãúÏßÄÏùò Î≤àÏó≠Î≥∏(ÌïúÍµ≠Ïñ¥)ÏùÑ, ÏûêÏã†Ïùò Î©îÏãúÏßÄÎäî ÏõêÎ¨∏ÏùÑ Î¥Ñ
    const displayText = msg.isStaff ? msg.text : (msg.translated || msg.text);
    if (displayText) content += renderMessage(displayText);
    
    // ÏõêÎ¨∏ Î≥¥Í∏∞ ÌÜ†Í∏Ä (Í≥†Í∞ù Î©îÏãúÏßÄÏù¥Í≥† Î≤àÏó≠Î≥∏Ïù¥ ÏõêÎ¨∏Í≥º Îã§Î•º Îïå)
    let originalToggle = '';
    if (!msg.isStaff && msg.translated && msg.translated !== msg.text) {
      const origId = 'orig-' + msgKey;
      originalToggle = `<div class="msg-original-toggle" onclick="toggleOriginal('${origId}')">üìÑ ÏõêÎ¨∏ Î≥¥Í∏∞</div><div class="msg-original" id="${origId}" style="display:none;">${renderMessage(msg.text)}</div>`;
    }
    
    div.innerHTML = `
      <div class="msg-bubble" style="position:relative;">${deleteBtn}${content}${originalToggle}</div>
      <div class="msg-time">${formatTime(msg.timestamp)}</div>
    `;
    container.appendChild(div);
    container.scrollTop = container.scrollHeight;
  });
  
  db.ref('rooms/' + roomId + '/messages').on('child_changed', snap => {
    const msg = snap.val();
    const div = document.getElementById('msg-' + snap.key);
    if (div && msg && msg.deleted) div.style.display = 'none';
  });
}

async function deleteMessage(roomId, msgKey) {
  if (!confirm('Ïù¥ Î©îÏãúÏßÄÎ•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
  await db.ref('rooms/' + roomId + '/messages/' + msgKey).update({ deleted: true, text: '' });
}

async function sendStaffMsg() {
  if (isSending) return;
  const input = document.getElementById('staffInput');
  const text = input.value.trim();
  if (!text || !selectedRoomId) { alert('Í≥†Í∞ùÏùÑ Î®ºÏ†Ä ÏÑ†ÌÉùÌïòÏÑ∏Ïöî!'); return; }
  
  isSending = true;
  input.value = '';
  input.style.height = 'auto';
  
  try {
    // ÏÑ†ÌÉùÎêú Í≥†Í∞ùÏùò Ïñ∏Ïñ¥ Í∞ÄÏ†∏Ïò§Í∏∞
    const roomSnap = await db.ref('rooms/' + selectedRoomId).once('value');
    const roomData = roomSnap.val();
    const customerLang = roomData?.userLang || 'ko';
    
    // Í≥†Í∞ù Ïñ∏Ïñ¥Î°ú Î≤àÏó≠
    const translated = (customerLang !== 'ko') ? await translateText(text, customerLang, 'staff_to_customer') : text;
    
    await db.ref('rooms/' + selectedRoomId + '/messages').push({
      text: text, translated: translated, isStaff: true, timestamp: Date.now()
    });
    await db.ref('rooms/' + selectedRoomId).update({
      lastMessage: text, lastMessageTranslated: translated, lastMessageTime: Date.now()
    });
  } catch (error) { alert('Ï†ÑÏÜ° Ïã§Ìå®: ' + error.message); }
  finally { isSending = false; }
}

// Îπ†Î•∏ÎãµÎ≥Ä
function toggleQuickReplies() {
  document.querySelectorAll('#quickReplies .quick-reply-btn').forEach(btn => {
    btn.style.display = btn.style.display === 'none' ? 'inline-block' : 'none';
  });
}

function quickReply(key) {
  if (!selectedRoomId) { alert('Í≥†Í∞ùÏùÑ Î®ºÏ†Ä ÏÑ†ÌÉùÌïòÏÑ∏Ïöî!'); return; }
  const input = document.getElementById('staffInput');
  
  if (key === 'paypal') {
    const won = prompt('ÏòàÏïΩÍ∏à (Ïõê/KRW):');
    if (!won) return;
    const w = parseInt(won.replace(/,/g,''));
    const usd = (w / 1350).toFixed(1);
    input.value = `üí≥ PayPal Payment\n\ndeposit : ${w.toLocaleString()} won / USD ${usd}\n(Please make the payment in USD.)\n\nhttps://www.paypal.com/ncp/payment/LHVBDE7UWNLD4\n\n‚Ä¢ Total Amount ‚Äì Deposit = On-site Payment\n‚Ä¢ Your reservation will be confirmed after the deposit payment.\n‚Ä¢ If not completed within 30 minutes, reservation will be canceled.\n‚Ä¢ Cancellations available until 6:00 PM (KST), two days before.\n‚Ä¢ Please send a screenshot after completing payment.`;
  } else if (key === 'wechat') {
    const won = prompt('È¢ÑÁ∫¶Èáë (Èü©ÂÖÉ/KRW):');
    if (!won) return;
    const w = parseInt(won.replace(/,/g,''));
    input.value = `[WECHAT_QR]\n\nÈ¢ÑÁ∫¶ÈáëÔºö${w.toLocaleString()} Èü©ÂÖÉ\n\n‚Ä¢ ÊÄª‰ªòÊ¨æÈáëÈ¢ù ‚Äì È¢ÑÁ∫¶Èáë = Áé∞Âú∫ÊîØ‰ªò\n‚Ä¢ ÊîØ‰ªòÈ¢ÑÁ∫¶ÈáëÂêéÔºåÈ¢ÑÁ∫¶Âç≥Á°ÆËÆ§ÂÆåÊàê„ÄÇ\n‚Ä¢ 30ÂàÜÈíüÂÜÖÊú™ÂÆåÊàê‰ªòÊ¨æÔºåÈ¢ÑÁ∫¶Â∞ÜËá™Âä®ÂèñÊ∂à„ÄÇ\n‚Ä¢ ÂèØÂú®È¢ÑÁ∫¶Êó•Ââç2Â§©‰∏ãÂçà6ÁÇπÂâçÂèñÊ∂àÂπ∂ÈÄÄÊ¨æ„ÄÇ\n‚Ä¢ ‰ªòÊ¨æÂÆåÊàêÂêéÔºåËØ∑ÂèëÈÄÅÊà™Âõæ„ÄÇ`;
  } else if (key === 'japan') {
    const won = prompt('‰∫àÁ¥ÑÈáë („Ç¶„Ç©„É≥/KRW):');
    if (!won) return;
    const w = parseInt(won.replace(/,/g,''));
    const jpy = Math.ceil(w / 8.9 / 100) * 100;
    input.value = `üáØüáµ ‰∫àÁ¥ÑÈáë„ÅÆ„ÅîÊ°àÂÜÖ\n\n‰∫àÁ¥ÑÈáë : ${w.toLocaleString()} won ( ${jpy.toLocaleString()} ÂÜÜ )\n\npaypayÈäÄË°å(0033)\n„ÅØ„ÇÑ„Å∂„ÅïÊîØÂ∫ó(003)\nÊôÆÈÄö7862427\n„Ç≠„É†„Ç∏„Éß„É≥„Éí\n\n* ÊîØÊâï„ÅÑÂæå„ÅÆË©≥Á¥∞(ÁîªÈù¢)„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô *\n\n‚Ä¢ Á∑è„ÅäÊîØÊâï„ÅÑÈáëÈ°ç ‚àí ‰∫àÁ¥ÑÈáë Ôºù ÂΩìÊó•ÁèæÂú∞Ê±∫Ê∏à\n‚Ä¢ ‰∫àÁ¥ÑÈáë„ÅÆ„ÅäÊîØÊâï„ÅÑÂÆå‰∫ÜÂæå„ÄÅ‰∫àÁ¥Ñ„ÅåÁ¢∫ÂÆö„Å®„Å™„Çä„Åæ„Åô„ÄÇ\n‚Ä¢ 30ÂàÜ‰ª•ÂÜÖ„Å´„ÅäÊîØÊâï„ÅÑ„ÅåÁ¢∫Ë™ç„Åß„Åç„Å™„ÅÑÂ†¥Âêà„ÄÅ‰∫àÁ¥Ñ„ÅØËá™Âãï„Ç≠„É£„É≥„Çª„É´„Å®„Å™„Çä„Åæ„Åô„ÄÇ\n‚Ä¢ „Åî‰∫àÁ¥ÑÊó•„ÅÆ2Êó•Ââç18:00(KST)„Åæ„Åß„Ç≠„É£„É≥„Çª„É´ÂèØËÉΩ„Åß„Åô„ÄÇ`;
  } else if (key === 'address') {
    input.value = `üìç [ Address / Âú∞ÂùÄ ]\n\nÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô 662-10\n21-3, Seolleung-ro 161-gil, Gangnam-gu, Seoul\nÈ¶ñÂ∞îÁâπÂà´Â∏ÇÊ±üÂçóÂå∫Êñ∞Ê≤ôÊ¥û 662-10\n\nüöá ÏàòÏù∏Î∂ÑÎãπÏÑ† ÏïïÍµ¨Ï†ïÎ°úÎç∞Ïò§Ïó≠ 6Î≤àÏ∂úÍµ¨\n\n[INSTAGRAM_BTN]\n[XIAOHONGSHU_BTN]`;
  } else if (key === 'confirmed') {
    const info = prompt('Í≥†Í∞ù ÏòàÏïΩ Ï†ïÎ≥¥ ÏûÖÎ†•\n(Ïòà: 3/15(ÌÜ†) 14:00 / Yuki / Î©îÏù¥ÌÅ¨ÏóÖA+Ìó§Ïñ¥B)');
    if (!info) return;
    input.value = info + '\n' + quickConfirmed;
  }
  input.focus();
  autoResize(input);
}

function searchCustomers() {
  const q = document.getElementById('searchBox').value.toLowerCase();
  document.querySelectorAll('.customer-item').forEach(item => {
    item.style.display = item.textContent.toLowerCase().includes(q) ? 'block' : 'none';
  });
}

// ========================================
// Î©îÎâ¥/Í∞ÄÍ≤©Ìëú ÏÇ¨Ïù¥ÎìúÎ∞î
// ========================================
const menuDataByLang = {
ko: {
  makeup: `<h4>üíÑ [ Lady - Make up ]</h4>
<div class="price-row"><span>A (Îç∞ÏùºÎ¶¨)</span><span>‚Ç©100,000</span></div>
<div class="price-row"><span>B (ÏïÑÏù¥Îèå, ÌôîÎ≥¥)</span><span>‚Ç©110,000</span></div>
<h4>ü§µ [ Man - Make up ]</h4>
<div class="price-row"><span>A (Îç∞ÏùºÎ¶¨)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>B (ÏïÑÏù¥Îèå, ÌôîÎ≥¥)</span><span>‚Ç©90,000</span></div>
<h4>üìö [ Î©îÏù¥ÌÅ¨ÏóÖ Î†àÏä® ]</h4>
<div class="price-row"><span>90Î∂Ñ</span><span>‚Ç©350,000</span></div>
<div class="divider"></div>
<h4>‚ú® Ìó§Ïñ¥ ÏÑ∏ÌåÖ</h4>
<p class="note">(+ ÏÉ¥Ìë∏ +‚Ç©20,000)</p>
<div class="price-row"><span>[ Lady ] A (Îç∞ÏùºÎ¶¨)</span><span>‚Ç©45,000</span></div>
<div class="price-row"><span>B (Î∞òÎ¨∂Ïùå)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>C (Ïò¨Î¶ºÎ®∏Î¶¨)</span><span>‚Ç©80,000</span></div>
<div class="price-row"><span>[ Man ]</span><span>‚Ç©40,000</span></div>
<div class="divider"></div>
<h4>‚è∞ Ï°∞Í∏∞ Ï∂îÍ∞ÄÏöîÍ∏à (Ïò§Ï†Ñ 10Ïãú Ïù¥Ï†Ñ)</h4>
<div class="price-row"><span>AM 9:00 Ìó§Ïñ¥</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 9:00 Î©îÏù¥ÌÅ¨ÏóÖ</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 8:00 Ìó§Ïñ¥</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 8:00 Î©îÏù¥ÌÅ¨ÏóÖ</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 7:00 Ìó§Ïñ¥</span><span>+‚Ç©30,000</span></div>
<div class="price-row"><span>AM 7:00 Î©îÏù¥ÌÅ¨ÏóÖ</span><span>+‚Ç©30,000</span></div>`,
  hair: `<h4>‚úÇÔ∏è Ïª§Ìä∏</h4>
<div class="price-row"><span>Ïó¨ÏÑ±</span><span>‚Ç©55,000</span></div>
<div class="price-row"><span>Ïó¨ÏÑ± + Ïä§ÌÉÄÏùºÎßÅ</span><span>‚Ç©85,000</span></div>
<div class="price-row"><span>ÎÇ®ÏÑ±</span><span>‚Ç©40,000</span></div>
<div class="price-row"><span>ÎÇ®ÏÑ± + Ïä§ÌÉÄÏùºÎßÅ</span><span>‚Ç©60,000</span></div>
<h4>üåÄ Ìéå</h4>
<div class="price-row"><span>Ïó¨ÏÑ±</span><span>‚Ç©220,000~</span></div>
<div class="price-row"><span>ÎÇ®ÏÑ±</span><span>‚Ç©140,000~</span></div>
<h4>üé® Ïª¨Îü¨</h4>
<div class="price-row"><span>Ïó¨ÏÑ±</span><span>‚Ç©140,000~</span></div>
<div class="price-row"><span>ÎÇ®ÏÑ±</span><span>‚Ç©120,000</span></div>
<h4>‚ú® ÏùµÏä§ÌÖêÏÖò</h4>
<div class="price-row"><span>ÏùºÎ∞ò</span><span>‚Ç©400,000~</span></div>
<div class="price-row"><span>ÌîÑÎ¶¨ÎØ∏ÏóÑ</span><span>‚Ç©600,000~</span></div>`,
  spa: `<h4>üíÜ Ìó§Îìú Ïä§Ìåå</h4>
<div class="price-row"><span>30Î∂Ñ</span><span>‚Ç©70,000</span></div>
<div class="price-row"><span>60Î∂Ñ</span><span>‚Ç©130,000</span></div>
<h4>üíä Ìó§Ïñ¥ Ìä∏Î¶¨Ìä∏Î®ºÌä∏</h4>
<div class="price-row"><span>60Î∂Ñ</span><span>‚Ç©140,000~</span></div>
<h4>üíÜ Ìó§Îìú Ïä§Ìåå + Ìó§Ïñ¥ Ìä∏Î¶¨Ìä∏Î®ºÌä∏</h4>
<div class="price-row"><span>90Î∂Ñ</span><span>‚Ç©230,000</span></div>`,
  photo: `<h4>üì∏ [ ÌîÑÎ¶¨ÎØ∏ÏóÑ Ï¶ùÎ™ÖÏÇ¨ÏßÑ ] ‚Äì ‚Ç©60,000 (30Î∂Ñ)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__id" target="_blank">@mallang__id</a></p>
<p class="note">
‚Ä¢ Ïã†Î∂ÑÏ¶ù, ÌïôÏÉùÏ¶ù, ÏÇ¨ÏõêÏ¶ù, Í∏∞ÎÖêÏÇ¨ÏßÑÏö©<br>
‚Ä¢ Î∞∞Í≤ΩÏÉâ ÏÑ†ÌÉù Í∞ÄÎä•<br>
‚Ä¢ Ï†ïÎ©¥ ÎòêÎäî Î∞òÏã† Ï∏°Î©¥ Ï¥¨ÏòÅ<br>
‚Ä¢ Ï¥¨ÏòÅ ÌõÑ 1Ïû• ÏÑ†ÌÉù ‚Üí 1:1 Î≥¥Ï†ï Ìè¨Ìï®<br>
‚Ä¢ Ï∂îÍ∞Ä Î≥¥Ï†ï: 1Ïû•Îãπ ‚Ç©40,000<br>
‚Ä¢ Ïù∏Ìôî Ìè¨Ìï®:<br>
&nbsp;&nbsp;5.5 √ó 7.5 cm (1Îß§) / 5.5 √ó 8 cm (2Îß§) / 3.5 √ó 4.5 cm (8Îß§)
</p>
<div class="divider"></div>
<h4>üì∏ [ ÌîÑÎ°úÌïÑ Ï¥¨ÏòÅ ] ‚Äì ‚Ç©120,000 (60Î∂Ñ)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__photo" target="_blank">@mallang__photo</a></p>
<p class="note">
‚Ä¢ 4Í∞ÄÏßÄ Î¨¥Îìú Ï§ë 1Í∞ÄÏßÄ ÏÑ†ÌÉù, ÏûêÏú† Ìè¨Ï¶à<br>
‚Ä¢ Î∞òÏã† Î∞è Ï†ÑÏã† Ï¥¨ÏòÅ<br>
‚Ä¢ Ï†ÑÏ≤¥ ÏõêÎ≥∏ Ïù¥Î©îÏùº Ï†ÑÏÜ°<br>
‚Ä¢ Î≥¥Ï†ï 1Ïû• Ìè¨Ìï® (ÏÜåÏöîÍ∏∞Í∞Ñ: 7~14Ïùº)<br>
‚Ä¢ Ïª®ÏÖâÎãπ ÏùòÏÉÅ 1Î≤å<br>
‚Ä¢ Ï∂îÍ∞Ä Î≥¥Ï†ï: 1Ïû•Îãπ ‚Ç©40,000<br>
* ÏùòÏÉÅÏùÄ Î≥∏Ïù∏Ïù¥ Ï§ÄÎπÑÌï¥ Ï£ºÏÑ∏Ïöî.
</p>
<div class="divider"></div>
<h4>üì∏ [ Ïª§Ìîå ÌîÑÎ°úÌïÑ Ï¥¨ÏòÅ ] ‚Äì ‚Ç©220,000 (60Î∂Ñ)</h4>
<p class="note">
‚Ä¢ Ìè¨ÌÜ†Í∑∏ÎûòÌçºÏôÄ Î¨¥Îìú Î∞è Ìè¨Ï¶à ÏÉÅÎã¥<br>
‚Ä¢ Î∞òÏã† Î∞è Ï†ÑÏã† Ï¥¨ÏòÅ<br>
‚Ä¢ Ï†ÑÏ≤¥ ÏõêÎ≥∏ Ïù¥Î©îÏùº Ï†ÑÏÜ°<br>
‚Ä¢ Î≥¥Ï†ï 1Ïû• Ìè¨Ìï® (ÏÜåÏöîÍ∏∞Í∞Ñ: 7~14Ïùº)<br>
‚Ä¢ Ïª®ÏÖâÎãπ ÏùòÏÉÅ 1Î≤å<br>
‚Ä¢ Ï∂îÍ∞Ä Î≥¥Ï†ï: 1Ïû•Îãπ ‚Ç©40,000<br>
* ÏùòÏÉÅÏùÄ Î≥∏Ïù∏Ïù¥ Ï§ÄÎπÑÌï¥ Ï£ºÏÑ∏Ïöî.
</p>`,
  booking: `<h4>üìÖ ÏòàÏïΩÌïòÍ∏∞</h4>
<p class="note" style="margin-bottom:0.8rem;">
‚Ä¢ ÏòàÏïΩÏùº Í∏∞Ï§Ä 2Ïùº Ï†Ñ Ïò§ÌõÑ 6Ïãú(KST)ÍπåÏßÄ Ï∑®ÏÜå Î∞è ÌôòÎ∂àÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.<br>
‚Ä¢ 1ÏãúÍ∞Ñ Ïù¥ÎÇ¥Ïóê ÏòàÏïΩÍ∏à Í≤∞Ï†úÍ∞Ä Í∞ÄÎä•ÌïòÏãúÎ©¥ ÏïÑÎûò ÎÇ¥Ïö©ÏùÑ ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî.<br>
‚Ä¢ Ï¥ùÍ∏àÏï°ÏóêÏÑú ÏòàÏïΩÍ∏àÏùÑ Ï†úÏô∏Ìïú ÎÇòÎ®∏ÏßÄ Í∏àÏï°ÏùÑ ÌòÑÏû•ÏóêÏÑú Í≤∞Ï†úÌï©ÎãàÎã§.<br>
‚Ä¢ ÏòàÏïΩÍ∏à Í≤∞Ï†ú ÌõÑ Ïä§ÌÅ¨Î¶∞ÏÉ∑ÏùÑ Íº≠ Ïù¥Í≥≥Ïóê ÎÇ®Í≤®Ï£ºÏÑ∏Ïöî. Í∑∏Î†áÏßÄ Î™ªÌï† Í≤ΩÏö∞ ÏòàÏïΩÏù¥ ÌôïÏ†ïÎêòÏßÄ ÏïäÏäµÎãàÎã§.
</p>
<div style="border-top:2px dashed #DDD;margin:1rem 0;"></div>
<p><b>ÎÇ†Ïßú :</b> Ïõî / Ïùº ( ÏöîÏùº )</p>
<p><b>ÏãúÍ∞Ñ :</b></p>
<p><b>Ïù¥Î¶Ñ(ÏòÅÎ¨∏) :</b></p>
<p><b>Ïù∏Ïõê :</b></p>
<p><b>ÏõêÌïòÏãúÎäî ÏÑúÎπÑÏä§ :</b></p>
<p><b>Í≤∞Ï†ú Î∞©Î≤ï :</b></p>
<p class="note">üá®üá≥ Ï§ëÍµ≠ : ÏúÑÏ±óÌéòÏù¥, ÏïåÎ¶¨ÌéòÏù¥<br>üáØüáµ ÏùºÎ≥∏ : Í≥ÑÏ¢åÏù¥Ï≤¥ (ÌéòÏù¥ÌéòÏù¥ ÏùÄÌñâ)<br>üí≥ Í≥µÏö© : Ïπ¥ÎìúÍ≤∞Ï†ú</p>
<button onclick="copyBookingForm()" style="margin-top:1rem;width:100%;padding:0.7rem;background:#C9A063;color:white;border:none;border-radius:8px;cursor:pointer;font-size:0.9rem;">‚úèÔ∏è Ï±ÑÌåÖÏóê ÏûÖÎ†•ÌïòÍ∏∞</button>`
},

en: {
  makeup: `<h4>üíÑ [ Lady - Make up ]</h4>
<div class="price-row"><span>A (daily)</span><span>‚Ç©100,000</span></div>
<div class="price-row"><span>B (idol, photo shoot)</span><span>‚Ç©110,000</span></div>
<h4>ü§µ [ Man - Make up ]</h4>
<div class="price-row"><span>A (daily)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>B (idol, photo shoot)</span><span>‚Ç©90,000</span></div>
<h4>üìö [ Make up Lesson ]</h4>
<div class="price-row"><span>90 min</span><span>‚Ç©350,000</span></div>
<div class="divider"></div>
<h4>‚ú® Hair Styling (Setting)</h4>
<p class="note">(+ hair wash +‚Ç©20,000)</p>
<div class="price-row"><span>[ Lady ] A (daily)</span><span>‚Ç©45,000</span></div>
<div class="price-row"><span>B (semi up style)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>C (up style)</span><span>‚Ç©80,000</span></div>
<div class="price-row"><span>[ Man ]</span><span>‚Ç©40,000</span></div>
<div class="divider"></div>
<h4>‚è∞ Early Charge (before 10:00 AM)</h4>
<div class="price-row"><span>AM 9:00 Hair</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 9:00 Make up</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 8:00 Hair</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 8:00 Make up</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 7:00 Hair</span><span>+‚Ç©30,000</span></div>
<div class="price-row"><span>AM 7:00 Make up</span><span>+‚Ç©30,000</span></div>`,
  hair: `<h4>‚úÇÔ∏è Cut</h4>
<div class="price-row"><span>Lady</span><span>‚Ç©55,000</span></div>
<div class="price-row"><span>Lady + styling</span><span>‚Ç©85,000</span></div>
<div class="price-row"><span>Man</span><span>‚Ç©40,000</span></div>
<div class="price-row"><span>Man + styling</span><span>‚Ç©60,000</span></div>
<h4>üåÄ Perm</h4>
<div class="price-row"><span>Lady</span><span>‚Ç©220,000~</span></div>
<div class="price-row"><span>Man</span><span>‚Ç©140,000~</span></div>
<h4>üé® Color</h4>
<div class="price-row"><span>Lady</span><span>‚Ç©140,000~</span></div>
<div class="price-row"><span>Man</span><span>‚Ç©120,000</span></div>
<h4>‚ú® Extension</h4>
<div class="price-row"><span>Normal</span><span>‚Ç©400,000~</span></div>
<div class="price-row"><span>Premium</span><span>‚Ç©600,000~</span></div>`,
  spa: `<h4>üíÜ Head Spa</h4>
<div class="price-row"><span>30 min</span><span>‚Ç©70,000</span></div>
<div class="price-row"><span>60 min</span><span>‚Ç©130,000</span></div>
<h4>üíä Hair Treatment</h4>
<div class="price-row"><span>60 min</span><span>‚Ç©140,000~</span></div>
<h4>üíÜ Head Spa + Hair Treatment</h4>
<div class="price-row"><span>90 min</span><span>‚Ç©230,000</span></div>`,
  photo: `<h4>üì∏ [ Premium ID Photo ] ‚Äì ‚Ç©60,000 (30 min)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__id" target="_blank">@mallang__id</a></p>
<p class="note">
‚Ä¢ For ID cards, student IDs, employee badges, and commemorative photos<br>
‚Ä¢ Background color selectable<br>
‚Ä¢ Front-facing or half-body side-angle shots only<br>
‚Ä¢ Select 1 photo ‚Üí 1:1 retouching included<br>
‚Ä¢ Additional retouching: ‚Ç©40,000 per photo<br>
‚Ä¢ Printed photos included:<br>
&nbsp;&nbsp;5.5 √ó 7.5 cm (1 print) / 5.5 √ó 8 cm (2 prints) / 3.5 √ó 4.5 cm (8 prints)
</p>
<div class="divider"></div>
<h4>üì∏ [ Profile Photoshoot ] ‚Äì ‚Ç©120,000 (60 min)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__photo" target="_blank">@mallang__photo</a></p>
<p class="note">
‚Ä¢ Choose 1 out of 4 moods, free posing<br>
‚Ä¢ Half-body and full-body shots<br>
‚Ä¢ All original photos sent via email<br>
‚Ä¢ 1 retouched photo included (turnaround: 7‚Äì14 days)<br>
‚Ä¢ 1 outfit per concept<br>
‚Ä¢ Additional retouching: ‚Ç©40,000 per photo<br>
* Outfits must be brought by the client.
</p>
<div class="divider"></div>
<h4>üì∏ [ Couple Profile Photoshoot ] ‚Äì ‚Ç©220,000 (60 min)</h4>
<p class="note">
‚Ä¢ Consultation with photographer regarding mood and poses<br>
‚Ä¢ Half-body and full-body shots<br>
‚Ä¢ All original photos sent via email<br>
‚Ä¢ 1 retouched photo included (turnaround: 7‚Äì14 days)<br>
‚Ä¢ 1 outfit per concept<br>
‚Ä¢ Additional retouching: ‚Ç©40,000 per photo<br>
* Outfits must be brought by the client.
</p>`,
  booking: `<h4>üìÖ Reservation</h4>
<p class="note" style="margin-bottom:0.8rem;">
‚Ä¢ Cancellations and refunds are available until 6:00 PM (KST), two days before the appointment.<br>
‚Ä¢ If you can pay the deposit within 1 hour, please fill out the form below.<br>
‚Ä¢ The remaining balance (total minus deposit) will be paid on-site.<br>
‚Ä¢ Please send a screenshot of your payment here. Your reservation will not be confirmed without it.
</p>
<div style="border-top:2px dashed #DDD;margin:1rem 0;"></div>
<p><b>Date :</b> Month / Day ( Day of week )</p>
<p><b>Time :</b></p>
<p><b>Name :</b></p>
<p><b>Number of guests :</b></p>
<p><b>Service :</b></p>
<p><b>Payment method :</b></p>
<p class="note">üá®üá≥ China : WeChat Pay, Alipay<br>üáØüáµ Japan : Bank transfer (PayPay Bank)<br>üí≥ Others : Credit card</p>
<button onclick="copyBookingForm()" style="margin-top:1rem;width:100%;padding:0.7rem;background:#C9A063;color:white;border:none;border-radius:8px;cursor:pointer;font-size:0.9rem;">‚úèÔ∏è Fill in Chat</button>`
},

zh: {
  makeup: `<h4>üíÑ [ Â•≥Â£´ - ÂåñÂ¶Ü ]</h4>
<div class="price-row"><span>A (Êó•Â∏∏Â¶Ü)</span><span>‚Ç©100,000</span></div>
<div class="price-row"><span>B (ÂÅ∂ÂÉè/ÂÜôÁúüÂ¶Ü)</span><span>‚Ç©110,000</span></div>
<h4>ü§µ [ Áî∑Â£´ - ÂåñÂ¶Ü ]</h4>
<div class="price-row"><span>A (Êó•Â∏∏Â¶Ü)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>B (ÂÅ∂ÂÉè/ÂÜôÁúüÂ¶Ü)</span><span>‚Ç©90,000</span></div>
<h4>üìö [ ÂåñÂ¶ÜËØæÁ®ã ]</h4>
<div class="price-row"><span>90ÂàÜÈíü</span><span>‚Ç©350,000</span></div>
<div class="divider"></div>
<h4>‚ú® ÂèëÂûãÈÄ†Âûã (Setting)</h4>
<p class="note">(+ Ê¥óÂèë +‚Ç©20,000)</p>
<div class="price-row"><span>[ Â•≥Â£´ ] A (Êó•Â∏∏)</span><span>‚Ç©45,000</span></div>
<div class="price-row"><span>B (ÂçäÊâéÂèë)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>C (ÁõòÂèë)</span><span>‚Ç©80,000</span></div>
<div class="price-row"><span>[ Áî∑Â£´ ]</span><span>‚Ç©40,000</span></div>
<div class="divider"></div>
<h4>‚è∞ Êó©Èó¥ÈôÑÂä†Ë¥π (‰∏äÂçà10ÁÇπÂâç)</h4>
<div class="price-row"><span>AM 9:00 ÂèëÂûã</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 9:00 ÂåñÂ¶Ü</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 8:00 ÂèëÂûã</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 8:00 ÂåñÂ¶Ü</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 7:00 ÂèëÂûã</span><span>+‚Ç©30,000</span></div>
<div class="price-row"><span>AM 7:00 ÂåñÂ¶Ü</span><span>+‚Ç©30,000</span></div>`,
  hair: `<h4>‚úÇÔ∏è Ââ™Âèë</h4>
<div class="price-row"><span>Â•≥Â£´</span><span>‚Ç©55,000</span></div>
<div class="price-row"><span>Â•≥Â£´ + ÈÄ†Âûã</span><span>‚Ç©85,000</span></div>
<div class="price-row"><span>Áî∑Â£´</span><span>‚Ç©40,000</span></div>
<div class="price-row"><span>Áî∑Â£´ + ÈÄ†Âûã</span><span>‚Ç©60,000</span></div>
<h4>üåÄ ÁÉ´Âèë</h4>
<div class="price-row"><span>Â•≥Â£´</span><span>‚Ç©220,000~</span></div>
<div class="price-row"><span>Áî∑Â£´</span><span>‚Ç©140,000~</span></div>
<h4>üé® ÊüìÂèë</h4>
<div class="price-row"><span>Â•≥Â£´</span><span>‚Ç©140,000~</span></div>
<div class="price-row"><span>Áî∑Â£´</span><span>‚Ç©120,000</span></div>
<h4>‚ú® Êé•Âèë</h4>
<div class="price-row"><span>ÊôÆÈÄö</span><span>‚Ç©400,000~</span></div>
<div class="price-row"><span>È´òÁ∫ß</span><span>‚Ç©600,000~</span></div>`,
  spa: `<h4>üíÜ Â§¥ÈÉ®Ê∞¥Áñó</h4>
<div class="price-row"><span>30ÂàÜÈíü</span><span>‚Ç©70,000</span></div>
<div class="price-row"><span>60ÂàÜÈíü</span><span>‚Ç©130,000</span></div>
<h4>üíä Â§¥ÂèëÊä§ÁêÜ</h4>
<div class="price-row"><span>60ÂàÜÈíü</span><span>‚Ç©140,000~</span></div>
<h4>üíÜ Â§¥ÈÉ®Ê∞¥Áñó + Â§¥ÂèëÊä§ÁêÜ</h4>
<div class="price-row"><span>90ÂàÜÈíü</span><span>‚Ç©230,000</span></div>`,
  photo: `<h4>üì∏ [ È´òÁ∫ßËØÅ‰ª∂ÁÖß ] ‚Äì ‚Ç©60,000 (30ÂàÜÈíü)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__id" target="_blank">@mallang__id</a></p>
<p class="note">
‚Ä¢ ÈÄÇÁî®‰∫éË∫´‰ªΩËØÅ„ÄÅÂ≠¶ÁîüËØÅ„ÄÅÂëòÂ∑•ËØÅÂèäÁ∫™ÂøµÁÖß<br>
‚Ä¢ ÂèØÈÄâÊã©ËÉåÊôØÈ¢úËâ≤<br>
‚Ä¢ ‰ªÖÈôêÊ≠£Èù¢ÊàñÂçäË∫´‰æßÈù¢ÊãçÊëÑ<br>
‚Ä¢ ÊãçÊëÑÂêéÈÄâ1Âº† ‚Üí Âê´1:1Á≤æ‰øÆ<br>
‚Ä¢ ËøΩÂä†Á≤æ‰øÆÔºöÊØèÂº† ‚Ç©40,000<br>
‚Ä¢ Âê´ÂÜ≤Âç∞ÁÖßÁâáÔºö<br>
&nbsp;&nbsp;5.5 √ó 7.5 cm (1Âº†) / 5.5 √ó 8 cm (2Âº†) / 3.5 √ó 4.5 cm (8Âº†)
</p>
<div class="divider"></div>
<h4>üì∏ [ ‰∏™‰∫∫ÂÜôÁúü ] ‚Äì ‚Ç©120,000 (60ÂàÜÈíü)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__photo" target="_blank">@mallang__photo</a></p>
<p class="note">
‚Ä¢ 4ÁßçÈ£éÊ†º‰∏≠ÈÄâ1ÁßçÔºåËá™Áî±ÊëÜÊãç<br>
‚Ä¢ ÂçäË∫´ÂèäÂÖ®Ë∫´ÊãçÊëÑ<br>
‚Ä¢ ÂÖ®ÈÉ®ÂéüÁâáÈÄöËøáÈÇÆ‰ª∂ÂèëÈÄÅ<br>
‚Ä¢ Âê´1Âº†Á≤æ‰øÆÔºàÂë®ÊúüÔºö7~14Â§©Ôºâ<br>
‚Ä¢ ÊØè‰∏™Ê¶ÇÂøµ1Â•óÊúçË£Ö<br>
‚Ä¢ ËøΩÂä†Á≤æ‰øÆÔºöÊØèÂº† ‚Ç©40,000<br>
* ÊúçË£ÖÈúÄËá™Â§á„ÄÇ
</p>
<div class="divider"></div>
<h4>üì∏ [ ÊÉÖ‰æ£ÂÜôÁúü ] ‚Äì ‚Ç©220,000 (60ÂàÜÈíü)</h4>
<p class="note">
‚Ä¢ ‰∏éÊëÑÂΩ±Â∏àÊ≤üÈÄöÈ£éÊ†ºÂíåÂßøÂäø<br>
‚Ä¢ ÂçäË∫´ÂèäÂÖ®Ë∫´ÊãçÊëÑ<br>
‚Ä¢ ÂÖ®ÈÉ®ÂéüÁâáÈÄöËøáÈÇÆ‰ª∂ÂèëÈÄÅ<br>
‚Ä¢ Âê´1Âº†Á≤æ‰øÆÔºàÂë®ÊúüÔºö7~14Â§©Ôºâ<br>
‚Ä¢ ÊØè‰∏™Ê¶ÇÂøµ1Â•óÊúçË£Ö<br>
‚Ä¢ ËøΩÂä†Á≤æ‰øÆÔºöÊØèÂº† ‚Ç©40,000<br>
* ÊúçË£ÖÈúÄËá™Â§á„ÄÇ
</p>`,
  booking: `<h4>üìÖ È¢ÑÁ∫¶</h4>
<p class="note" style="margin-bottom:0.8rem;">
‚Ä¢ ÂèØÂú®È¢ÑÁ∫¶Êó•Ââç2Â§©‰∏ãÂçà6ÁÇπ(KST)ÂâçÂèñÊ∂àÂπ∂ÈÄÄÊ¨æ„ÄÇ<br>
‚Ä¢ Â¶ÇÊûúÊÇ®ÂèØ‰ª•Âú®1Â∞èÊó∂ÂÜÖÊîØ‰ªòÈ¢ÑÁ∫¶ÈáëÔºåËØ∑Â°´ÂÜô‰ª•‰∏ãÂÜÖÂÆπ„ÄÇ<br>
‚Ä¢ ÊÄªÈáëÈ¢ùÂáèÂéªÈ¢ÑÁ∫¶ÈáëÂêéÁöÑ‰ΩôÈ¢ùÂú®Áé∞Âú∫ÊîØ‰ªò„ÄÇ<br>
‚Ä¢ ‰ªòÊ¨æÂêéËØ∑Âä°ÂøÖÂú®Ê≠§ÂèëÈÄÅÊà™ÂõæÔºåÂê¶ÂàôÈ¢ÑÁ∫¶Â∞ÜÊó†Ê≥ïÁ°ÆËÆ§„ÄÇ
</p>
<div style="border-top:2px dashed #DDD;margin:1rem 0;"></div>
<p><b>Êó•Êúü :</b> Êúà / Êó• ( ÊòüÊúüÂá† )</p>
<p><b>Êó∂Èó¥ :</b></p>
<p><b>ÂßìÂêç(Ëã±Êñá) :</b></p>
<p><b>‰∫∫Êï∞ :</b></p>
<p><b>Â∏åÊúõÁöÑÊúçÂä° :</b></p>
<p><b>‰ªòÊ¨æÊñπÂºè :</b></p>
<p class="note">üá®üá≥ ‰∏≠ÂõΩ : ÂæÆ‰ø°ÊîØ‰ªò„ÄÅÊîØ‰ªòÂÆù<br>üáØüáµ Êó•Êú¨ : Èì∂Ë°åËΩ¨Ë¥¶ (PayPayÈì∂Ë°å)<br>üí≥ ÈÄöÁî® : ‰ø°Áî®Âç°</p>
<button onclick="copyBookingForm()" style="margin-top:1rem;width:100%;padding:0.7rem;background:#C9A063;color:white;border:none;border-radius:8px;cursor:pointer;font-size:0.9rem;">‚úèÔ∏è Â°´ÂÜôÂà∞ËÅäÂ§©</button>`
},

ja: {
  makeup: `<h4>üíÑ [ „É¨„Éá„Ç£„Éº„Çπ - „É°„Ç§„ÇØ ]</h4>
<div class="price-row"><span>A („Éá„Ç§„É™„Éº)</span><span>‚Ç©100,000</span></div>
<div class="price-row"><span>B („Ç¢„Ç§„Éâ„É´/ÊíÆÂΩ±)</span><span>‚Ç©110,000</span></div>
<h4>ü§µ [ „É°„É≥„Ç∫ - „É°„Ç§„ÇØ ]</h4>
<div class="price-row"><span>A („Éá„Ç§„É™„Éº)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>B („Ç¢„Ç§„Éâ„É´/ÊíÆÂΩ±)</span><span>‚Ç©90,000</span></div>
<h4>üìö [ „É°„Ç§„ÇØ„É¨„ÉÉ„Çπ„É≥ ]</h4>
<div class="price-row"><span>90ÂàÜ</span><span>‚Ç©350,000</span></div>
<div class="divider"></div>
<h4>‚ú® „Éò„Ç¢„Çª„ÉÉ„ÉÜ„Ç£„É≥„Ç∞</h4>
<p class="note">(+ „Ç∑„É£„É≥„Éó„Éº +‚Ç©20,000)</p>
<div class="price-row"><span>[ „É¨„Éá„Ç£„Éº„Çπ ] A („Éá„Ç§„É™„Éº)</span><span>‚Ç©45,000</span></div>
<div class="price-row"><span>B („Éè„Éº„Éï„Ç¢„ÉÉ„Éó)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>C („Ç¢„ÉÉ„Éó„Çπ„Çø„Ç§„É´)</span><span>‚Ç©80,000</span></div>
<div class="price-row"><span>[ „É°„É≥„Ç∫ ]</span><span>‚Ç©40,000</span></div>
<div class="divider"></div>
<h4>‚è∞ Êó©ÊúùÊñôÈáë (ÂçàÂâç10ÊôÇÂâç)</h4>
<div class="price-row"><span>AM 9:00 „Éò„Ç¢</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 9:00 „É°„Ç§„ÇØ</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 8:00 „Éò„Ç¢</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 8:00 „É°„Ç§„ÇØ</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 7:00 „Éò„Ç¢</span><span>+‚Ç©30,000</span></div>
<div class="price-row"><span>AM 7:00 „É°„Ç§„ÇØ</span><span>+‚Ç©30,000</span></div>`,
  hair: `<h4>‚úÇÔ∏è „Ç´„ÉÉ„Éà</h4>
<div class="price-row"><span>„É¨„Éá„Ç£„Éº„Çπ</span><span>‚Ç©55,000</span></div>
<div class="price-row"><span>„É¨„Éá„Ç£„Éº„Çπ + „Çπ„Çø„Ç§„É™„É≥„Ç∞</span><span>‚Ç©85,000</span></div>
<div class="price-row"><span>„É°„É≥„Ç∫</span><span>‚Ç©40,000</span></div>
<div class="price-row"><span>„É°„É≥„Ç∫ + „Çπ„Çø„Ç§„É™„É≥„Ç∞</span><span>‚Ç©60,000</span></div>
<h4>üåÄ „Éë„Éº„Éû</h4>
<div class="price-row"><span>„É¨„Éá„Ç£„Éº„Çπ</span><span>‚Ç©220,000~</span></div>
<div class="price-row"><span>„É°„É≥„Ç∫</span><span>‚Ç©140,000~</span></div>
<h4>üé® „Ç´„É©„Éº</h4>
<div class="price-row"><span>„É¨„Éá„Ç£„Éº„Çπ</span><span>‚Ç©140,000~</span></div>
<div class="price-row"><span>„É°„É≥„Ç∫</span><span>‚Ç©120,000</span></div>
<h4>‚ú® „Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥</h4>
<div class="price-row"><span>„Éé„Éº„Éû„É´</span><span>‚Ç©400,000~</span></div>
<div class="price-row"><span>„Éó„É¨„Éü„Ç¢„É†</span><span>‚Ç©600,000~</span></div>`,
  spa: `<h4>üíÜ „Éò„ÉÉ„Éâ„Çπ„Éë</h4>
<div class="price-row"><span>30ÂàÜ</span><span>‚Ç©70,000</span></div>
<div class="price-row"><span>60ÂàÜ</span><span>‚Ç©130,000</span></div>
<h4>üíä „Éò„Ç¢„Éà„É™„Éº„Éà„É°„É≥„Éà</h4>
<div class="price-row"><span>60ÂàÜ</span><span>‚Ç©140,000~</span></div>
<h4>üíÜ „Éò„ÉÉ„Éâ„Çπ„Éë + „Éò„Ç¢„Éà„É™„Éº„Éà„É°„É≥„Éà</h4>
<div class="price-row"><span>90ÂàÜ</span><span>‚Ç©230,000</span></div>`,
  photo: `<h4>üì∏ [ „Éó„É¨„Éü„Ç¢„É†Ë®ºÊòéÂÜôÁúü ] ‚Äì ‚Ç©60,000 (30ÂàÜ)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__id" target="_blank">@mallang__id</a></p>
<p class="note">
‚Ä¢ Ë∫´ÂàÜË®º„ÄÅÂ≠¶ÁîüË®º„ÄÅÁ§æÂì°Ë®º„ÄÅË®òÂøµÂÜôÁúüÁî®<br>
‚Ä¢ ËÉåÊôØËâ≤ÈÅ∏ÊäûÂèØËÉΩ<br>
‚Ä¢ Ê≠£Èù¢„Åæ„Åü„ÅØÂçäË∫´„Çµ„Ç§„Éâ„Ç¢„É≥„Ç∞„É´„ÅÆ„Åø<br>
‚Ä¢ ÊíÆÂΩ±Âæå1ÊûöÈÅ∏Êäû ‚Üí 1:1„É¨„Çø„ÉÉ„ÉÅËæº„Åø<br>
‚Ä¢ ËøΩÂä†„É¨„Çø„ÉÉ„ÉÅÔºö1Êûö ‚Ç©40,000<br>
‚Ä¢ „Éó„É™„É≥„ÉàËæº„ÅøÔºö<br>
&nbsp;&nbsp;5.5 √ó 7.5 cm (1Êûö) / 5.5 √ó 8 cm (2Êûö) / 3.5 √ó 4.5 cm (8Êûö)
</p>
<div class="divider"></div>
<h4>üì∏ [ „Éó„É≠„Éï„Ç£„Éº„É´ÊíÆÂΩ± ] ‚Äì ‚Ç©120,000 (60ÂàÜ)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__photo" target="_blank">@mallang__photo</a></p>
<p class="note">
‚Ä¢ 4„Å§„ÅÆ„É†„Éº„Éâ„Åã„Çâ1„Å§ÈÅ∏Êäû„ÄÅËá™Áî±„Éù„Éº„Ç∫<br>
‚Ä¢ ÂçäË∫´„ÉªÂÖ®Ë∫´ÊíÆÂΩ±<br>
‚Ä¢ ÂÖ®ÂéüÊú¨„É°„Éº„É´ÈÄÅ‰ø°<br>
‚Ä¢ „É¨„Çø„ÉÉ„ÉÅ1ÊûöËæº„ÅøÔºàÁ¥çÊúüÔºö7ÔΩû14Êó•Ôºâ<br>
‚Ä¢ „Ç≥„É≥„Çª„Éó„Éà„Åî„Å®„Å´Ë°£Ë£Ö1ÁùÄ<br>
‚Ä¢ ËøΩÂä†„É¨„Çø„ÉÉ„ÉÅÔºö1Êûö ‚Ç©40,000<br>
* Ë°£Ë£Ö„ÅØ„ÅîÊåÅÂèÇ„Åè„Å†„Åï„ÅÑ„ÄÇ
</p>
<div class="divider"></div>
<h4>üì∏ [ „Ç´„ÉÉ„Éó„É´ÊíÆÂΩ± ] ‚Äì ‚Ç©220,000 (60ÂàÜ)</h4>
<p class="note">
‚Ä¢ „Éï„Ç©„Éà„Ç∞„É©„Éï„Ç°„Éº„Å®„É†„Éº„Éâ„Éª„Éù„Éº„Ç∫Áõ∏Ë´á<br>
‚Ä¢ ÂçäË∫´„ÉªÂÖ®Ë∫´ÊíÆÂΩ±<br>
‚Ä¢ ÂÖ®ÂéüÊú¨„É°„Éº„É´ÈÄÅ‰ø°<br>
‚Ä¢ „É¨„Çø„ÉÉ„ÉÅ1ÊûöËæº„ÅøÔºàÁ¥çÊúüÔºö7ÔΩû14Êó•Ôºâ<br>
‚Ä¢ „Ç≥„É≥„Çª„Éó„Éà„Åî„Å®„Å´Ë°£Ë£Ö1ÁùÄ<br>
‚Ä¢ ËøΩÂä†„É¨„Çø„ÉÉ„ÉÅÔºö1Êûö ‚Ç©40,000<br>
* Ë°£Ë£Ö„ÅØ„ÅîÊåÅÂèÇ„Åè„Å†„Åï„ÅÑ„ÄÇ
</p>`,
  booking: `<h4>üìÖ „Åî‰∫àÁ¥Ñ</h4>
<p class="note" style="margin-bottom:0.8rem;">
‚Ä¢ „Åî‰∫àÁ¥ÑÊó•„ÅÆ2Êó•Ââç18:00(KST)„Åæ„Åß„Ç≠„É£„É≥„Çª„É´„ÉªËøîÈáë„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ<br>
‚Ä¢ 1ÊôÇÈñì‰ª•ÂÜÖ„Å´‰∫àÁ¥ÑÈáë„ÅÆ„ÅäÊîØÊâï„ÅÑ„ÅåÂèØËÉΩ„Å™Êñπ„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆÂÜÖÂÆπ„Çí„ÅîË®òÂÖ•„Åè„Å†„Åï„ÅÑ„ÄÇ<br>
‚Ä¢ Á∑èÈ°ç„Åã„Çâ‰∫àÁ¥ÑÈáë„ÇíÂ∑Æ„ÅóÂºï„ÅÑ„ÅüÊÆãÈ°ç„ÅØÁèæÂú∞„Åß„ÅäÊîØÊâï„ÅÑ„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ<br>
‚Ä¢ „ÅäÊîØÊâï„ÅÑÂæå„ÄÅ„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÇíÂøÖ„Åö„Åì„Å°„Çâ„Å´„ÅäÈÄÅ„Çä„Åè„Å†„Åï„ÅÑ„ÄÇÁ¢∫Ë™ç„Åß„Åç„Å™„ÅÑÂ†¥Âêà„ÄÅ‰∫àÁ¥Ñ„ÅåÁ¢∫ÂÆö„Åï„Çå„Åæ„Åõ„Çì„ÄÇ
</p>
<div style="border-top:2px dashed #DDD;margin:1rem 0;"></div>
<p><b>Êó•‰ªò :</b> Êúà / Êó• ( ÊõúÊó• )</p>
<p><b>ÊôÇÈñì :</b></p>
<p><b>„ÅäÂêçÂâç(Ëã±Ë™û) :</b></p>
<p><b>‰∫∫Êï∞ :</b></p>
<p><b>„ÅîÂ∏åÊúõ„ÅÆ„Çµ„Éº„Éì„Çπ :</b></p>
<p><b>„ÅäÊîØÊâï„ÅÑÊñπÊ≥ï :</b></p>
<p class="note">üá®üá≥ ‰∏≠ÂõΩ : WeChat Pay„ÄÅAlipay<br>üáØüáµ Êó•Êú¨ : ÈäÄË°åÊåØËæº (PayPayÈäÄË°å)<br>üí≥ ÂÖ±ÈÄö : „ÇØ„É¨„Ç∏„ÉÉ„Éà„Ç´„Éº„Éâ</p>
<button onclick="copyBookingForm()" style="margin-top:1rem;width:100%;padding:0.7rem;background:#C9A063;color:white;border:none;border-radius:8px;cursor:pointer;font-size:0.9rem;">‚úèÔ∏è „ÉÅ„É£„ÉÉ„Éà„Å´ÂÖ•Âäõ</button>`
},

th: {
  makeup: `<h4>üíÑ [ ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á - ‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤ ]</h4>
<div class="price-row"><span>A (‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</span><span>‚Ç©100,000</span></div>
<div class="price-row"><span>B (‡πÑ‡∏≠‡∏î‡∏≠‡∏•/‡∏ñ‡πà‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö)</span><span>‚Ç©110,000</span></div>
<h4>ü§µ [ ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ - ‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤ ]</h4>
<div class="price-row"><span>A (‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>B (‡πÑ‡∏≠‡∏î‡∏≠‡∏•/‡∏ñ‡πà‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö)</span><span>‚Ç©90,000</span></div>
<h4>üìö [ ‡∏™‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤ ]</h4>
<div class="price-row"><span>90 ‡∏ô‡∏≤‡∏ó‡∏µ</span><span>‚Ç©350,000</span></div>
<div class="divider"></div>
<h4>‚ú® ‡∏à‡∏±‡∏î‡πÅ‡∏ï‡πà‡∏á‡∏ó‡∏£‡∏á‡∏ú‡∏° (Setting)</h4>
<p class="note">(+ ‡∏™‡∏£‡∏∞‡∏ú‡∏° +‚Ç©20,000)</p>
<div class="price-row"><span>[ ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á ] A (‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</span><span>‚Ç©45,000</span></div>
<div class="price-row"><span>B (‡∏£‡∏ß‡∏ö‡∏Ñ‡∏£‡∏∂‡πà‡∏á)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>C (‡πÄ‡∏Å‡∏•‡πâ‡∏≤‡∏ú‡∏°)</span><span>‚Ç©80,000</span></div>
<div class="price-row"><span>[ ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ ]</span><span>‚Ç©40,000</span></div>
<div class="divider"></div>
<h4>‚è∞ ‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ä‡πâ‡∏≤ (‡∏Å‡πà‡∏≠‡∏ô 10:00 ‡∏ô.)</h4>
<div class="price-row"><span>AM 9:00 ‡∏ú‡∏°</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 9:00 ‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 8:00 ‡∏ú‡∏°</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 8:00 ‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 7:00 ‡∏ú‡∏°</span><span>+‚Ç©30,000</span></div>
<div class="price-row"><span>AM 7:00 ‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤</span><span>+‚Ç©30,000</span></div>`,
  hair: `<h4>‚úÇÔ∏è ‡∏ï‡∏±‡∏î‡∏ú‡∏°</h4>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</span><span>‚Ç©55,000</span></div>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á + ‡∏à‡∏±‡∏î‡πÅ‡∏ï‡πà‡∏á</span><span>‚Ç©85,000</span></div>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</span><span>‚Ç©40,000</span></div>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ + ‡∏à‡∏±‡∏î‡πÅ‡∏ï‡πà‡∏á</span><span>‚Ç©60,000</span></div>
<h4>üåÄ ‡∏î‡∏±‡∏î‡∏ú‡∏°</h4>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</span><span>‚Ç©220,000~</span></div>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</span><span>‚Ç©140,000~</span></div>
<h4>üé® ‡∏ó‡∏≥‡∏™‡∏µ‡∏ú‡∏°</h4>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</span><span>‚Ç©140,000~</span></div>
<div class="price-row"><span>‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</span><span>‚Ç©120,000</span></div>
<h4>‚ú® ‡∏ï‡πà‡∏≠‡∏ú‡∏°</h4>
<div class="price-row"><span>‡∏õ‡∏Å‡∏ï‡∏¥</span><span>‚Ç©400,000~</span></div>
<div class="price-row"><span>‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°</span><span>‚Ç©600,000~</span></div>`,
  spa: `<h4>üíÜ ‡πÄ‡∏Æ‡∏î‡∏™‡∏õ‡∏≤</h4>
<div class="price-row"><span>30 ‡∏ô‡∏≤‡∏ó‡∏µ</span><span>‚Ç©70,000</span></div>
<div class="price-row"><span>60 ‡∏ô‡∏≤‡∏ó‡∏µ</span><span>‚Ç©130,000</span></div>
<h4>üíä ‡∏ó‡∏£‡∏µ‡∏ï‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏ú‡∏°</h4>
<div class="price-row"><span>60 ‡∏ô‡∏≤‡∏ó‡∏µ</span><span>‚Ç©140,000~</span></div>
<h4>üíÜ ‡πÄ‡∏Æ‡∏î‡∏™‡∏õ‡∏≤ + ‡∏ó‡∏£‡∏µ‡∏ï‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏ú‡∏°</h4>
<div class="price-row"><span>90 ‡∏ô‡∏≤‡∏ó‡∏µ</span><span>‚Ç©230,000</span></div>`,
  photo: `<h4>üì∏ [ ‡∏£‡∏π‡∏õ‡∏ö‡∏±‡∏ï‡∏£‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏° ] ‚Äì ‚Ç©60,000 (30 ‡∏ô‡∏≤‡∏ó‡∏µ)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__id" target="_blank">@mallang__id</a></p>
<p class="note">
‚Ä¢ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô ‡∏ö‡∏±‡∏ï‡∏£‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏ö‡∏±‡∏ï‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å<br>
‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ<br>
‚Ä¢ ‡∏ñ‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô<br>
‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢ ‚Üí ‡∏£‡∏ß‡∏°‡∏£‡∏µ‡∏ó‡∏±‡∏ä 1:1<br>
‚Ä¢ ‡∏£‡∏µ‡∏ó‡∏±‡∏ä‡πÄ‡∏û‡∏¥‡πà‡∏°: ‚Ç©40,000 ‡∏ï‡πà‡∏≠‡∏£‡∏π‡∏õ<br>
‚Ä¢ ‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏û‡∏û‡∏¥‡∏°‡∏û‡πå:<br>
&nbsp;&nbsp;5.5 √ó 7.5 cm (1 ‡πÉ‡∏ö) / 5.5 √ó 8 cm (2 ‡πÉ‡∏ö) / 3.5 √ó 4.5 cm (8 ‡πÉ‡∏ö)
</p>
<div class="divider"></div>
<h4>üì∏ [ ‡∏ñ‡πà‡∏≤‡∏¢‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå ] ‚Äì ‚Ç©120,000 (60 ‡∏ô‡∏≤‡∏ó‡∏µ)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__photo" target="_blank">@mallang__photo</a></p>
<p class="note">
‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡∏à‡∏≤‡∏Å 4 ‡∏°‡∏π‡πâ‡∏î ‡πÇ‡∏û‡∏™‡∏ó‡πà‡∏≤‡∏≠‡∏¥‡∏™‡∏£‡∏∞<br>
‚Ä¢ ‡∏ñ‡πà‡∏≤‡∏¢‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏±‡∏ß<br>
‚Ä¢ ‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•<br>
‚Ä¢ ‡∏£‡∏ß‡∏°‡∏£‡∏µ‡∏ó‡∏±‡∏ä 1 ‡∏£‡∏π‡∏õ (‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: 7-14 ‡∏ß‡∏±‡∏ô)<br>
‚Ä¢ ‡∏ä‡∏∏‡∏î‡∏•‡∏∞ 1 ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ã‡πá‡∏õ‡∏ï‡πå<br>
‚Ä¢ ‡∏£‡∏µ‡∏ó‡∏±‡∏ä‡πÄ‡∏û‡∏¥‡πà‡∏°: ‚Ç©40,000 ‡∏ï‡πà‡∏≠‡∏£‡∏π‡∏õ<br>
* ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ä‡∏∏‡∏î‡∏°‡∏≤‡πÄ‡∏≠‡∏á
</p>
<div class="divider"></div>
<h4>üì∏ [ ‡∏ñ‡πà‡∏≤‡∏¢‡∏Ñ‡∏π‡πà‡∏£‡∏±‡∏Å ] ‚Äì ‚Ç©220,000 (60 ‡∏ô‡∏≤‡∏ó‡∏µ)</h4>
<p class="note">
‚Ä¢ ‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ä‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏π‡πâ‡∏î‡πÅ‡∏•‡∏∞‡∏ó‡πà‡∏≤‡πÇ‡∏û‡∏™<br>
‚Ä¢ ‡∏ñ‡πà‡∏≤‡∏¢‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏±‡∏ß<br>
‚Ä¢ ‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•<br>
‚Ä¢ ‡∏£‡∏ß‡∏°‡∏£‡∏µ‡∏ó‡∏±‡∏ä 1 ‡∏£‡∏π‡∏õ (‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: 7-14 ‡∏ß‡∏±‡∏ô)<br>
‚Ä¢ ‡∏ä‡∏∏‡∏î‡∏•‡∏∞ 1 ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ã‡πá‡∏õ‡∏ï‡πå<br>
‚Ä¢ ‡∏£‡∏µ‡∏ó‡∏±‡∏ä‡πÄ‡∏û‡∏¥‡πà‡∏°: ‚Ç©40,000 ‡∏ï‡πà‡∏≠‡∏£‡∏π‡∏õ<br>
* ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ä‡∏∏‡∏î‡∏°‡∏≤‡πÄ‡∏≠‡∏á
</p>`,
  booking: `<h4>üìÖ ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</h4>
<p class="note" style="margin-bottom:0.8rem;">
‚Ä¢ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡πà‡∏≠‡∏ô 18:00 ‡∏ô. (KST) 2 ‡∏ß‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢<br>
‚Ä¢ ‡∏´‡∏≤‡∏Å‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏±‡∏î‡∏à‡∏≥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á<br>
‚Ä¢ ‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (‡∏¢‡∏≠‡∏°‡∏£‡∏ß‡∏° - ‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏±‡∏î‡∏à‡∏≥) ‡∏ä‡∏≥‡∏£‡∏∞‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô<br>
‚Ä¢ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πà‡∏á‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÑ‡∏î‡πâ
</p>
<div style="border-top:2px dashed #DDD;margin:1rem 0;"></div>
<p><b>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà :</b> ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô / ‡∏ß‡∏±‡∏ô (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå)</p>
<p><b>‡πÄ‡∏ß‡∏•‡∏≤ :</b></p>
<p><b>‡∏ä‡∏∑‡πà‡∏≠(‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©) :</b></p>
<p><b>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô :</b></p>
<p><b>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ :</b></p>
<p><b>‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô :</b></p>
<p class="note">üá®üá≥ ‡∏à‡∏µ‡∏ô : WeChat Pay, Alipay<br>üáØüáµ ‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô : ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (PayPay Bank)<br>üí≥ ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ : ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</p>
<button onclick="copyBookingForm()" style="margin-top:1rem;width:100%;padding:0.7rem;background:#C9A063;color:white;border:none;border-radius:8px;cursor:pointer;font-size:0.9rem;">‚úèÔ∏è ‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏ô‡πÅ‡∏ä‡∏ó</button>`
},

vi: {
  makeup: `<h4>üíÑ [ N·ªØ - Trang ƒëi·ªÉm ]</h4>
<div class="price-row"><span>A (h√†ng ng√†y)</span><span>‚Ç©100,000</span></div>
<div class="price-row"><span>B (idol/ch·ª•p ·∫£nh)</span><span>‚Ç©110,000</span></div>
<h4>ü§µ [ Nam - Trang ƒëi·ªÉm ]</h4>
<div class="price-row"><span>A (h√†ng ng√†y)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>B (idol/ch·ª•p ·∫£nh)</span><span>‚Ç©90,000</span></div>
<h4>üìö [ H·ªçc trang ƒëi·ªÉm ]</h4>
<div class="price-row"><span>90 ph√∫t</span><span>‚Ç©350,000</span></div>
<div class="divider"></div>
<h4>‚ú® T·∫°o ki·ªÉu t√≥c (Setting)</h4>
<p class="note">(+ g·ªôi ƒë·∫ßu +‚Ç©20,000)</p>
<div class="price-row"><span>[ N·ªØ ] A (h√†ng ng√†y)</span><span>‚Ç©45,000</span></div>
<div class="price-row"><span>B (b√∫i n·ª≠a ƒë·∫ßu)</span><span>‚Ç©60,000</span></div>
<div class="price-row"><span>C (b√∫i cao)</span><span>‚Ç©80,000</span></div>
<div class="price-row"><span>[ Nam ]</span><span>‚Ç©40,000</span></div>
<div class="divider"></div>
<h4>‚è∞ Ph·ª• thu bu·ªïi s√°ng (tr∆∞·ªõc 10:00)</h4>
<div class="price-row"><span>AM 9:00 T√≥c</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 9:00 Trang ƒëi·ªÉm</span><span>+‚Ç©10,000</span></div>
<div class="price-row"><span>AM 8:00 T√≥c</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 8:00 Trang ƒëi·ªÉm</span><span>+‚Ç©20,000</span></div>
<div class="price-row"><span>AM 7:00 T√≥c</span><span>+‚Ç©30,000</span></div>
<div class="price-row"><span>AM 7:00 Trang ƒëi·ªÉm</span><span>+‚Ç©30,000</span></div>`,
  hair: `<h4>‚úÇÔ∏è C·∫Øt t√≥c</h4>
<div class="price-row"><span>N·ªØ</span><span>‚Ç©55,000</span></div>
<div class="price-row"><span>N·ªØ + t·∫°o ki·ªÉu</span><span>‚Ç©85,000</span></div>
<div class="price-row"><span>Nam</span><span>‚Ç©40,000</span></div>
<div class="price-row"><span>Nam + t·∫°o ki·ªÉu</span><span>‚Ç©60,000</span></div>
<h4>üåÄ U·ªën t√≥c</h4>
<div class="price-row"><span>N·ªØ</span><span>‚Ç©220,000~</span></div>
<div class="price-row"><span>Nam</span><span>‚Ç©140,000~</span></div>
<h4>üé® Nhu·ªôm t√≥c</h4>
<div class="price-row"><span>N·ªØ</span><span>‚Ç©140,000~</span></div>
<div class="price-row"><span>Nam</span><span>‚Ç©120,000</span></div>
<h4>‚ú® N·ªëi t√≥c</h4>
<div class="price-row"><span>Th∆∞·ªùng</span><span>‚Ç©400,000~</span></div>
<div class="price-row"><span>Cao c·∫•p</span><span>‚Ç©600,000~</span></div>`,
  spa: `<h4>üíÜ Head Spa</h4>
<div class="price-row"><span>30 ph√∫t</span><span>‚Ç©70,000</span></div>
<div class="price-row"><span>60 ph√∫t</span><span>‚Ç©130,000</span></div>
<h4>üíä Ph·ª•c h·ªìi t√≥c</h4>
<div class="price-row"><span>60 ph√∫t</span><span>‚Ç©140,000~</span></div>
<h4>üíÜ Head Spa + Ph·ª•c h·ªìi t√≥c</h4>
<div class="price-row"><span>90 ph√∫t</span><span>‚Ç©230,000</span></div>`,
  photo: `<h4>üì∏ [ ·∫¢nh th·∫ª cao c·∫•p ] ‚Äì ‚Ç©60,000 (30 ph√∫t)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__id" target="_blank">@mallang__id</a></p>
<p class="note">
‚Ä¢ D√πng cho CMND, th·∫ª sinh vi√™n, th·∫ª nh√¢n vi√™n v√† ·∫£nh k·ª∑ ni·ªám<br>
‚Ä¢ C√≥ th·ªÉ ch·ªçn m√†u n·ªÅn<br>
‚Ä¢ Ch·ªâ ch·ª•p ch√≠nh di·ªán ho·∫∑c n·ª≠a ng∆∞·ªùi nghi√™ng<br>
‚Ä¢ Ch·ªçn 1 ·∫£nh ‚Üí bao g·ªìm ch·ªânh s·ª≠a 1:1<br>
‚Ä¢ Ch·ªânh s·ª≠a th√™m: ‚Ç©40,000/·∫£nh<br>
‚Ä¢ Bao g·ªìm ·∫£nh in:<br>
&nbsp;&nbsp;5.5 √ó 7.5 cm (1 t·∫•m) / 5.5 √ó 8 cm (2 t·∫•m) / 3.5 √ó 4.5 cm (8 t·∫•m)
</p>
<div class="divider"></div>
<h4>üì∏ [ Ch·ª•p ·∫£nh profile ] ‚Äì ‚Ç©120,000 (60 ph√∫t)</h4>
<p class="note">üì∑ <a class="link" href="https://www.instagram.com/mallang__photo" target="_blank">@mallang__photo</a></p>
<p class="note">
‚Ä¢ Ch·ªçn 1 trong 4 phong c√°ch, t·ª± do t·∫°o d√°ng<br>
‚Ä¢ Ch·ª•p n·ª≠a ng∆∞·ªùi v√† to√†n th√¢n<br>
‚Ä¢ G·ª≠i to√†n b·ªô ·∫£nh g·ªëc qua email<br>
‚Ä¢ Bao g·ªìm ch·ªânh s·ª≠a 1 ·∫£nh (th·ªùi gian: 7-14 ng√†y)<br>
‚Ä¢ 1 b·ªô trang ph·ª•c/concept<br>
‚Ä¢ Ch·ªânh s·ª≠a th√™m: ‚Ç©40,000/·∫£nh<br>
* Trang ph·ª•c t·ª± chu·∫©n b·ªã.
</p>
<div class="divider"></div>
<h4>üì∏ [ Ch·ª•p ·∫£nh c·∫∑p ƒë√¥i ] ‚Äì ‚Ç©220,000 (60 ph√∫t)</h4>
<p class="note">
‚Ä¢ T∆∞ v·∫•n v·ªõi nhi·∫øp ·∫£nh gia v·ªÅ phong c√°ch v√† t·∫°o d√°ng<br>
‚Ä¢ Ch·ª•p n·ª≠a ng∆∞·ªùi v√† to√†n th√¢n<br>
‚Ä¢ G·ª≠i to√†n b·ªô ·∫£nh g·ªëc qua email<br>
‚Ä¢ Bao g·ªìm ch·ªânh s·ª≠a 1 ·∫£nh (th·ªùi gian: 7-14 ng√†y)<br>
‚Ä¢ 1 b·ªô trang ph·ª•c/concept<br>
‚Ä¢ Ch·ªânh s·ª≠a th√™m: ‚Ç©40,000/·∫£nh<br>
* Trang ph·ª•c t·ª± chu·∫©n b·ªã.
</p>`,
  booking: `<h4>üìÖ ƒê·∫∑t l·ªãch</h4>
<p class="note" style="margin-bottom:0.8rem;">
‚Ä¢ C√≥ th·ªÉ h·ªßy v√† ho√†n ti·ªÅn tr∆∞·ªõc 18:00 (KST), 2 ng√†y tr∆∞·ªõc ng√†y h·∫πn.<br>
‚Ä¢ N·∫øu b·∫°n c√≥ th·ªÉ thanh to√°n ti·ªÅn c·ªçc trong v√≤ng 1 gi·ªù, vui l√≤ng ƒëi·ªÅn th√¥ng tin b√™n d∆∞·ªõi.<br>
‚Ä¢ S·ªë ti·ªÅn c√≤n l·∫°i (t·ªïng - ti·ªÅn c·ªçc) s·∫Ω thanh to√°n t·∫°i c·ª≠a h√†ng.<br>
‚Ä¢ Vui l√≤ng g·ª≠i ·∫£nh ch·ª•p m√†n h√¨nh thanh to√°n t·∫°i ƒë√¢y. N·∫øu kh√¥ng g·ª≠i, ƒë·∫∑t l·ªãch s·∫Ω kh√¥ng ƒë∆∞·ª£c x√°c nh·∫≠n.
</p>
<div style="border-top:2px dashed #DDD;margin:1rem 0;"></div>
<p><b>Ng√†y :</b> Th√°ng / Ng√†y (v√≠ d·ª•: Th·ª© Hai)</p>
<p><b>Gi·ªù :</b></p>
<p><b>T√™n (ti·∫øng Anh) :</b></p>
<p><b>S·ªë ng∆∞·ªùi :</b></p>
<p><b>D·ªãch v·ª• mong mu·ªën :</b></p>
<p><b>Ph∆∞∆°ng th·ª©c thanh to√°n :</b></p>
<p class="note">üá®üá≥ Trung Qu·ªëc : WeChat Pay, Alipay<br>üáØüáµ Nh·∫≠t B·∫£n : Chuy·ªÉn kho·∫£n (PayPay Bank)<br>üí≥ Chung : Th·∫ª t√≠n d·ª•ng</p>
<button onclick="copyBookingForm()" style="margin-top:1rem;width:100%;padding:0.7rem;background:#C9A063;color:white;border:none;border-radius:8px;cursor:pointer;font-size:0.9rem;">‚úèÔ∏è ƒêi·ªÅn v√†o chat</button>`
}
};

// ÌòÑÏû¨ Ïñ∏Ïñ¥Ïóê ÎßûÎäî Î©îÎâ¥ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞
function getMenuData() {
  return menuDataByLang[currentLang] || menuDataByLang['en'];
}

const tabNames = {
  ko: { makeup: 'üíÑ Î©îÏù¥ÌÅ¨ÏóÖ', hair: 'üíá Ìó§Ïñ¥', spa: 'üßñ Ïä§Ìåå', photo: 'üì∑ Ìè¨ÌÜ†', booking: 'üìÖ ÏòàÏïΩÌïòÍ∏∞' },
  en: { makeup: 'üíÑ Makeup', hair: 'üíá Hair', spa: 'üßñ Spa', photo: 'üì∑ Photo', booking: 'üìÖ Booking' },
  zh: { makeup: 'üíÑ ÂåñÂ¶Ü', hair: 'üíá ÁæéÂèë', spa: 'üßñ Ê∞¥Áñó', photo: 'üì∑ ÂÜôÁúü', booking: 'üìÖ È¢ÑÁ∫¶' },
  ja: { makeup: 'üíÑ „É°„Ç§„ÇØ', hair: 'üíá „Éò„Ç¢', spa: 'üßñ „Çπ„Éë', photo: 'üì∑ „Éï„Ç©„Éà', booking: 'üìÖ ‰∫àÁ¥Ñ' },
  th: { makeup: 'üíÑ ‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤', hair: 'üíá ‡∏ó‡∏≥‡∏ú‡∏°', spa: 'üßñ ‡∏™‡∏õ‡∏≤', photo: 'üì∑ ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ', booking: 'üìÖ ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß' },
  vi: { makeup: 'üíÑ Trang ƒëi·ªÉm', hair: 'üíá T√≥c', spa: 'üßñ Spa', photo: 'üì∑ ·∫¢nh', booking: 'üìÖ ƒê·∫∑t l·ªãch' }
};

function updateTabNames() {
  const names = tabNames[currentLang] || tabNames['en'];
  document.querySelectorAll('.menu-tab').forEach(t => {
    const tab = t.dataset.tab;
    if (tab && names[tab]) t.textContent = names[tab];
  });
}

function showMenu(tab) {
  document.querySelectorAll('.menu-tab').forEach(t => {
    t.classList.remove('active');
    if (t.dataset.tab === tab) t.classList.add('active');
  });
  const data = getMenuData();
  document.getElementById('menuContent').innerHTML = data[tab] || '';
}

function showPriceMenu() { toggleMobileMenu(); }
function toggleMobileMenu() {
  const sidebar = document.getElementById('menuSidebar');
  const overlay = document.getElementById('menuOverlay');
  sidebar.classList.toggle('mobile-open');
  overlay.classList.toggle('active');
  if (sidebar.classList.contains('mobile-open')) {
    updateTabNames();
    // ÌòÑÏû¨ ÌôúÏÑ± ÌÉ≠ Ï∞æÏïÑÏÑú ÏÉàÎ°úÍ≥†Ïπ®
    const activeTab = document.querySelector('.menu-tab.active');
    const tab = activeTab ? activeTab.dataset.tab : 'makeup';
    showMenu(tab);
  }
}
function closeMobileMenu() {
  document.getElementById('menuSidebar').classList.remove('mobile-open');
  document.getElementById('menuOverlay').classList.remove('active');
}

function fillBookingForm() {
  const forms = {
    ko: `ÎÇ†Ïßú : Ïõî / Ïùº ( ÏöîÏùº )\nÏãúÍ∞Ñ :\nÏù¥Î¶Ñ(ÏòÅÎ¨∏) :\nÏù∏Ïõê :\nÏõêÌïòÏãúÎäî ÏÑúÎπÑÏä§ :\nÍ≤∞Ï†ú Î∞©Î≤ï :`,
    en: `Date : Month / Day ( Day of week )\nTime :\nName :\nNumber of guests :\nService :\nPayment method :`,
    zh: `Êó•Êúü : Êúà / Êó• ( ÊòüÊúüÂá† )\nÊó∂Èó¥ :\nÂßìÂêç(Ëã±Êñá) :\n‰∫∫Êï∞ :\nÂ∏åÊúõÁöÑÊúçÂä° :\n‰ªòÊ¨æÊñπÂºè :`,
    ja: `Êó•‰ªò : Êúà / Êó• ( ÊõúÊó• )\nÊôÇÈñì :\n„ÅäÂêçÂâç(Ëã±Ë™û) :\n‰∫∫Êï∞ :\n„ÅîÂ∏åÊúõ„ÅÆ„Çµ„Éº„Éì„Çπ :\n„ÅäÊîØÊâï„ÅÑÊñπÊ≥ï :`,
    th: `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà : ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô / ‡∏ß‡∏±‡∏ô (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå)\n‡πÄ‡∏ß‡∏•‡∏≤ :\n‡∏ä‡∏∑‡πà‡∏≠(‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©) :\n‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô :\n‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ :\n‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô :`,
    vi: `Ng√†y : Th√°ng / Ng√†y (v√≠ d·ª•: Th·ª© Hai)\nGi·ªù :\nT√™n (ti·∫øng Anh) :\nS·ªë ng∆∞·ªùi :\nD·ªãch v·ª• mong mu·ªën :\nPh∆∞∆°ng th·ª©c thanh to√°n :`
  };
  const form = forms[currentLang] || forms['en'];
  
  // ÏÇ¨Ïù¥ÎìúÎ∞î Îã´Í∏∞
  closeMobileMenu();
  
  // Ï±ÑÌåÖÎ∞© ÏïàÏóê ÏûàÏúºÎ©¥ Î∞îÎ°ú ÏûÖÎ†•
  const input = document.getElementById('chatInput');
  if (input && document.getElementById('chatRoomScreen').classList.contains('active')) {
    input.value = form;
    input.focus();
    autoResize(input);
    return;
  }
  
  // Ï±ÑÌåÖÎ∞© Î∞ñÏù¥Î©¥ Í¥ÄÎ¶¨Ïûê Ï±ÑÌåÖÎ∞©ÏúºÎ°ú Ïù¥Îèô ÌõÑ ÏûÖÎ†•
  if (currentUserData && currentUserData.adminRoomId) {
    pendingBookingForm = form;
    openChat(currentUserData.adminRoomId, 'admin');
  }
}

let pendingBookingForm = null;

function copyBookingForm() {
  fillBookingForm();
}

// ========================================
// Ïú†Ìã∏Î¶¨Ìã∞
// ========================================
function getFlag(lang) {
  const flags = { ko: 'üá∞üá∑', en: 'üåê', zh: 'üá®üá≥', ja: 'üáØüáµ', th: 'üáπüá≠', vi: 'üáªüá≥' };
  return flags[lang] || 'üåê';
}

function formatTime(ts) {
  if (!ts) return '';
  const d = new Date(ts);
  const now = new Date();
  const diff = now - d;
  if (diff < 60000) return 'Î∞©Í∏à';
  if (diff < 3600000) return Math.floor(diff/60000) + 'Î∂Ñ Ï†Ñ';
  if (diff < 86400000) return Math.floor(diff/3600000) + 'ÏãúÍ∞Ñ Ï†Ñ';
  return (d.getMonth()+1) + '/' + d.getDate();
}

function previewText(text) {
  if (!text) return 'ÏÉàÎ°úÏö¥ ÎåÄÌôî';
  let t = text.replace(/\[WECHAT_QR\]/g, 'üá®üá≥ ÏúÑÏ±óÌéòÏù¥').replace(/\[DIRECTIONS_BTN\]/g, '').replace(/\[INSTAGRAM_BTN\]/g, '').replace(/\[XIAOHONGSHU_BTN\]/g, '').replace(/\n/g, ' ').trim();
  if (t.length > 35) t = t.substring(0, 35) + '...';
  return escapeHtml(t);
}

function escapeHtml(text) {
  const div = document.createElement('div');
  div.appendChild(document.createTextNode(text));
  return div.innerHTML;
}

function renderMessage(text) {
  if (!text) return '';
  let html = escapeHtml(text);
  html = html.replace(/(https?:\/\/[^\s<]+)/g, '<a href="$1" target="_blank" class="msg-link">$1</a>');
  html = html.replace('[WECHAT_QR]', '<img src="' + WECHAT_QR + '" class="msg-img" alt="WeChat Pay QR">');
  html = html.replace('[DIRECTIONS_BTN]', '<a href="https://www.instagram.com/reel/DIvxoGwy482/?igsh=MTI5cW8wM3MwNGM1OA==" target="_blank" class="msg-link-btn">üìç How to get here (Video)</a>');
  html = html.replace('[INSTAGRAM_BTN]', '<a href="https://www.instagram.com/reel/DIvxoGwy482/?igsh=MTI5cW8wM3MwNGM1OA==" target="_blank" class="msg-link-btn">üìç Ïò§ÎäîÍ∏∏ Instagram</a>');
  html = html.replace('[XIAOHONGSHU_BTN]', '<a href="http://xhslink.com/n/5EjZsrAK2SA" target="_blank" class="msg-link-btn" style="background:#FF4040;">üìç Âà∞Â∫óË∑ØÁ∫ø Â∞èÁ∫¢‰π¶</a>');
  html = html.replace(/\*\*(.+?)\*\*/g, '<span class="msg-highlight">$1</span>');
  html = html.replace(/\[CENTER\](.*?)\[\/CENTER\]\n?/g, '<div style="text-align:center;margin:-0.2em 0;padding:0;line-height:1.2;">$1</div>');
  html = html.replace(/\n/g, '<br>');
  return html;
}

function getAuthErrorMsg(code) {
  const msgs = {
    'auth/email-already-in-use': 'Ïù¥ÎØ∏ Îì±Î°ùÎêú Ïù¥Î©îÏùºÏûÖÎãàÎã§ / Email already in use',
    'auth/invalid-email': 'Ïò¨Î∞îÎ•∏ Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî / Invalid email',
    'auth/weak-password': 'ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÎÑàÎ¨¥ ÏïΩÌï©ÎãàÎã§ / Password too weak',
    'auth/user-not-found': 'Îì±Î°ùÎêòÏßÄ ÏïäÏùÄ Ïù¥Î©îÏùºÏûÖÎãàÎã§ / Email not found',
    'auth/wrong-password': 'ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÌãÄÎ†∏ÏäµÎãàÎã§ / Wrong password',
    'auth/invalid-credential': 'Ïù¥Î©îÏùº ÎòêÎäî ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÌãÄÎ†∏ÏäµÎãàÎã§ / Invalid credentials',
    'auth/too-many-requests': 'Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî / Too many attempts'
  };
  return msgs[code] || 'Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§ (' + code + ')';
}

// ========================================
// ÏûÖÎ†•Ï∞Ω ÏûêÎèô ÌÅ¨Í∏∞
// ========================================
function autoResize(el) {
  el.style.height = 'auto';
  const maxH = 120;
  if (el.scrollHeight > maxH) {
    el.style.height = maxH + 'px';
    el.style.overflowY = 'auto';
  } else {
    el.style.height = el.scrollHeight + 'px';
    el.style.overflowY = 'hidden';
  }
}

// Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà
document.getElementById('chatInput').addEventListener('input', function() { autoResize(this); });
document.getElementById('staffInput').addEventListener('input', function() { autoResize(this); });
document.getElementById('chatInput').addEventListener('keydown', e => {
  if (e.key === 'Enter' && !e.shiftKey && !e.isComposing) { e.preventDefault(); sendChatMsg(); }
});
document.getElementById('staffInput').addEventListener('keydown', e => {
  if (e.key === 'Enter' && !e.shiftKey && !e.isComposing) { e.preventDefault(); sendStaffMsg(); }
});
document.getElementById('loginPw').addEventListener('keydown', e => {
  if (e.key === 'Enter') doLogin();
});
document.getElementById('signupPw').addEventListener('keydown', e => {
  if (e.key === 'Enter') doSignup();
});

// Ï¥àÍ∏∞ Î©îÎâ¥Îäî Ïó¥ Îïå Î°úÎìú
</script>
</body>
</html>
